Spec. file is: specfile
Parsed two: ibmvstgt.c.orig, ibmvstgt.c.new
Comment
Comment
Parsed two: scsi_tgt_lib.c.orig, scsi_tgt_lib.c.new
Reading file pair scsi_tgt_lib.c.orig scsi_tgt_lib.c.new
Reading file pair ibmvstgt.c.orig ibmvstgt.c.new
mtop(N/H) NCP(N/H) stmt:return:exp:ident(err) statem(N/H) exp:ident(result) exp:ident(shost) exp:record_ptr[exp:ident(shost),ident(transportt)] ident(transportt) exp:ident(err) simple_assi(=) stmt:exprstmt(none) exp:ident(printk) sgn(unsigned) exp:ident(dprintk) stmt:decl(N/H) param[reg(),name(result),fulltype[ctype[btype[itype[sgn(signed),base(int)]]]]] fulltype[ctype[btype[itype[sgn(signed),base(int)]]]] ctype[btype[itype[sgn(signed),base(int)]]] btype[itype[sgn(signed),base(int)]] itype[sgn(signed),base(int)] base(int) sgn(signed) name(result) reg() param[reg(),name(itn_id),fulltype[typec(N/H)]] fulltype[typec(N/H)] typec(N/H) name(itn_id) exp:ident(eprintk) exp:const:int(0) logiop(<) exp:ident(NULL) exp:const:int(1) param[reg(),name(shost),fulltype[typec(N/H)]] name(shost) param[reg(),name(mid),fulltype[typec(N/H)]] name(mid) exp:ident(tag) param[reg(),name(data),fulltype[typec(N/H)]] name(data) exp:ident(cmd) exp:ident(flags) exp:ident(spin_unlock_irqrestore) exp:ident(spin_lock_irqsave) ident(tag) exp:ident(SAM_STAT_CHECK_CONDITION) ident(result) logiop(==) fulltype[ctype[btype[itype[sgn(unsigned),base(long)]]]] ctype[btype[itype[sgn(unsigned),base(long)]]] btype[itype[sgn(unsigned),base(long)]] itype[sgn(unsigned),base(long)] base(long) stmt:jump(break) exp:ident(list_del) exp:record_ptr[exp:ident(shost),ident(hostt)] ident(hostt) stmt:return:exp:const:int(0) exp:ident(GFP_KERNEL) fulltype[ctype[btype[itype[sgn(unsigned),base(int)]]]] ctype[btype[itype[sgn(unsigned),base(int)]]] btype[itype[sgn(unsigned),base(int)]] itype[sgn(unsigned),base(int)] ident(use_sg) exp:ident(queue_work) fulltype[ctype[btype(void)]] ctype[btype(void)] btype(void) ident(shost) exp:ident(queue) exp:postfix:++:exp:ident(i) exp:ident(i) exp:assign[simple_assi(=),exp:ident(i),exp:const:int(0)] exp:ident(spin_lock_init) exp:ident(kzalloc) exp:ident(INIT_WORK) funtype[fulltype[ctype[btype(void)]],param[reg(),name(work),fulltype[typec(N/H)]]] param[reg(),name(work),fulltype[typec(N/H)]] name(work) op_assi(|=) exp:ident(memset) decl(N/H) define(N/H) includeN[inc_elem(scsi),inc_elem(scsi_tgt.h)] inc_elem(scsi_tgt.h) inc_elem(scsi) includeN[inc_elem(scsi),inc_elem(scsi_host.h)] inc_elem(scsi_host.h) includeN[inc_elem(scsi),inc_elem(scsi.h)] inc_elem(scsi.h) inc_elem(linux) includeN[inc_elem(linux),inc_elem(module.h)] inc_elem(module.h) 
[Main] Constructing all safe parts for 2 term pairs
[Main] Making safe parts for pair 1
[Main] terms that changed: 
[Main] Making safe parts for pair 2
[Main] terms that changed: 
Those were the safe parts
{{{
stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[meta(X2),ident(use_sg)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),meta(X2)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[meta(X2),ident(use_sg)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[meta(X2),ident(use_sg)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X2)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[meta(X2),ident(use_sg)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[meta(X2),ident(use_sg)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),meta(X2)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[meta(X2),ident(use_sg)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[meta(X2),ident(use_sg)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X2)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[meta(X2),ident(use_sg)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),meta(X3)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),meta(X2)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),meta(X3)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),meta(X3)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X2)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),meta(X3)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),meta(X3)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),meta(X2)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),meta(X3)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),meta(X3)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X2)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),meta(X3)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),ident(use_sg)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),meta(X2)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),ident(use_sg)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),ident(use_sg)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X2)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),ident(use_sg)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),ident(use_sg)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),meta(X2)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),ident(use_sg)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),ident(use_sg)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X2)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),ident(use_sg)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),meta(X3)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),meta(X2)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),meta(X3)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),meta(X3)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X2)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),meta(X3)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),meta(X3)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),meta(X2)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),meta(X3)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),meta(X3)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X2)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),meta(X3)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),ident(use_sg)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),meta(X2)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),ident(use_sg)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),ident(use_sg)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X2)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),ident(use_sg)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),ident(use_sg)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),meta(X2)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),ident(use_sg)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),ident(use_sg)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X2)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),ident(use_sg)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[exp:ident(cmd),meta(X2)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[exp:ident(cmd),meta(X2)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[exp:ident(cmd),ident(use_sg)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[exp:ident(cmd),ident(use_sg)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:record_ptr[meta(X1),meta(X2)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),meta(X1)]]

stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:record_ptr[meta(X1),meta(X2)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:record_ptr[meta(X1),meta(X2)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X1)]]

stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:record_ptr[meta(X1),meta(X2)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:record_ptr[meta(X1),ident(use_sg)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),meta(X1)]]

stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:record_ptr[meta(X1),ident(use_sg)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:record_ptr[meta(X1),ident(use_sg)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X1)]]

stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:record_ptr[meta(X1),ident(use_sg)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:record_ptr[exp:ident(cmd),meta(X2)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),meta(X1)]]

stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:record_ptr[exp:ident(cmd),meta(X2)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:record_ptr[exp:ident(cmd),meta(X2)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X1)]]

stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:record_ptr[exp:ident(cmd),meta(X2)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:record_ptr[exp:ident(cmd),ident(use_sg)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),meta(X1)]]

stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:record_ptr[exp:ident(cmd),ident(use_sg)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:record_ptr[exp:ident(cmd),ident(use_sg)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X1)]]

stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:record_ptr[exp:ident(cmd),ident(use_sg)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),exp:ident(cmd),exp:record_ptr[meta(X1),meta(X2)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),meta(X1)]]

stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),exp:ident(cmd),exp:record_ptr[meta(X1),meta(X2)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),exp:ident(cmd),exp:record_ptr[meta(X1),meta(X2)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X1)]]

stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),exp:ident(cmd),exp:record_ptr[meta(X1),meta(X2)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),exp:ident(cmd),exp:record_ptr[meta(X1),ident(use_sg)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),meta(X1)]]

stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),exp:ident(cmd),exp:record_ptr[meta(X1),ident(use_sg)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),exp:ident(cmd),exp:record_ptr[meta(X1),ident(use_sg)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X1)]]

stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),exp:ident(cmd),exp:record_ptr[meta(X1),ident(use_sg)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),exp:ident(cmd),exp:record_ptr[exp:ident(cmd),meta(X1)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),exp:ident(cmd),exp:record_ptr[exp:ident(cmd),ident(use_sg)]] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),exp:ident(cmd),meta(X1)] ==> stmt:exprstmt:exp:call[exp:ident(eprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

exp:binary_logi[meta(X0),meta(X1),exp:record_ptr[meta(X2),meta(X3)]] ==> exp:binary_logi[meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),meta(X2)]]

exp:binary_logi[meta(X0),meta(X1),exp:record_ptr[meta(X2),meta(X3)]] ==> exp:binary_logi[meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

exp:binary_logi[meta(X0),meta(X1),exp:record_ptr[meta(X2),ident(use_sg)]] ==> exp:binary_logi[meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),meta(X2)]]

exp:binary_logi[meta(X0),meta(X1),exp:record_ptr[meta(X2),ident(use_sg)]] ==> exp:binary_logi[meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

exp:binary_logi[meta(X0),meta(X1),exp:record_ptr[exp:ident(cmd),meta(X2)]] ==> exp:binary_logi[meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

exp:binary_logi[meta(X0),meta(X1),exp:record_ptr[exp:ident(cmd),ident(use_sg)]] ==> exp:binary_logi[meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]

exp:call[meta(X0),exp:binary_logi[meta(X1),meta(X2),exp:record_ptr[meta(X3),meta(X4)]]] ==> exp:call[meta(X0),exp:binary_logi[meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),meta(X3)]]]

exp:call[meta(X0),exp:binary_logi[meta(X1),meta(X2),exp:record_ptr[meta(X3),meta(X4)]]] ==> exp:call[meta(X0),exp:binary_logi[meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]]

exp:call[meta(X0),exp:binary_logi[meta(X1),meta(X2),exp:record_ptr[meta(X3),ident(use_sg)]]] ==> exp:call[meta(X0),exp:binary_logi[meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),meta(X3)]]]

exp:call[meta(X0),exp:binary_logi[meta(X1),meta(X2),exp:record_ptr[meta(X3),ident(use_sg)]]] ==> exp:call[meta(X0),exp:binary_logi[meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]]

exp:call[meta(X0),exp:binary_logi[meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),meta(X3)]]] ==> exp:call[meta(X0),exp:binary_logi[meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]]

exp:call[meta(X0),exp:binary_logi[meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),ident(use_sg)]]] ==> exp:call[meta(X0),exp:binary_logi[meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]]

exp:call[meta(X0),exp:binary_logi[meta(X1),meta(X2),meta(X3)]] ==> exp:call[meta(X0),exp:binary_logi[meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]]

stmt:if[exp:call[exp:ident(likely),exp:binary_logi[logiop(<=),exp:ident(count),exp:record_ptr[exp:ident(cmd),ident(use_sg)]]],stmt:comp{}[stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:ident(count)],stmt:return:exp:const:int(0)],stmt:exprstmt(none)] ==> stmt:if[exp:call[exp:ident(likely),exp:binary_logi[logiop(<=),exp:ident(count),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]],stmt:comp{}[stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:ident(count)],stmt:return:exp:const:int(0)],stmt:exprstmt(none)]

exp:call[meta(X0),exp:record_ptr[meta(X1),meta(X2)],meta(X1),exp:record_ptr[meta(X3),meta(X4)]] ==> exp:call[meta(X0),exp:record_ptr[meta(X1),meta(X2)],meta(X1),exp:call[exp:ident(scsi_sglist),meta(X3)]]

exp:call[meta(X0),exp:record_ptr[meta(X1),meta(X2)],meta(X1),exp:record_ptr[meta(X3),meta(X4)]] ==> exp:call[meta(X0),exp:record_ptr[meta(X1),meta(X2)],meta(X1),exp:call[exp:ident(scsi_sglist),exp:ident(cmd)]]

exp:call[meta(X0),exp:record_ptr[meta(X1),meta(X2)],meta(X1),exp:record_ptr[exp:ident(cmd),meta(X3)]] ==> exp:call[meta(X0),exp:record_ptr[meta(X1),meta(X2)],meta(X1),exp:call[exp:ident(scsi_sglist),exp:ident(cmd)]]

exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[meta(X3),meta(X4)]] ==> exp:call[meta(X0),meta(X1),meta(X2),exp:call[exp:ident(scsi_sglist),meta(X3)]]

exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[meta(X3),meta(X4)]] ==> exp:call[meta(X0),meta(X1),meta(X2),exp:call[exp:ident(scsi_sglist),exp:ident(cmd)]]

exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),meta(X3)]] ==> exp:call[meta(X0),meta(X1),meta(X2),exp:call[exp:ident(scsi_sglist),exp:ident(cmd)]]

stmt:exprstmt:exp:assign[meta(X0),meta(X1),exp:call[meta(X2),exp:record_ptr[meta(X3),meta(X4)],meta(X3),exp:record_ptr[meta(X5),meta(X6)]]] ==> stmt:exprstmt:exp:assign[meta(X0),meta(X1),exp:call[meta(X2),exp:record_ptr[meta(X3),meta(X4)],meta(X3),exp:call[exp:ident(scsi_sglist),meta(X5)]]]

stmt:exprstmt:exp:assign[meta(X0),meta(X1),exp:call[meta(X2),exp:record_ptr[meta(X3),meta(X4)],meta(X3),exp:record_ptr[meta(X5),meta(X6)]]] ==> stmt:exprstmt:exp:assign[meta(X0),meta(X1),exp:call[meta(X2),exp:record_ptr[meta(X3),meta(X4)],meta(X3),exp:call[exp:ident(scsi_sglist),exp:ident(cmd)]]]

stmt:exprstmt:exp:assign[meta(X0),meta(X1),exp:call[meta(X2),exp:record_ptr[meta(X3),meta(X4)],meta(X3),exp:record_ptr[meta(X5),meta(X6)]]] ==> stmt:exprstmt:exp:assign[simple_assi(=),meta(X1),exp:call[meta(X2),exp:record_ptr[meta(X3),meta(X4)],meta(X3),exp:call[exp:ident(scsi_sglist),meta(X5)]]]

stmt:exprstmt:exp:assign[meta(X0),meta(X1),exp:call[meta(X2),exp:record_ptr[meta(X3),meta(X4)],meta(X3),exp:record_ptr[meta(X5),meta(X6)]]] ==> stmt:exprstmt:exp:assign[simple_assi(=),meta(X1),exp:call[meta(X2),exp:record_ptr[meta(X3),meta(X4)],meta(X3),exp:call[exp:ident(scsi_sglist),exp:ident(cmd)]]]

stmt:exprstmt:exp:assign[meta(X0),meta(X1),exp:call[meta(X2),exp:record_ptr[meta(X3),meta(X4)],meta(X3),exp:record_ptr[exp:ident(cmd),meta(X5)]]] ==> stmt:exprstmt:exp:assign[meta(X0),meta(X1),exp:call[meta(X2),exp:record_ptr[meta(X3),meta(X4)],meta(X3),exp:call[exp:ident(scsi_sglist),exp:ident(cmd)]]]

stmt:exprstmt:exp:assign[meta(X0),meta(X1),exp:call[meta(X2),exp:record_ptr[meta(X3),meta(X4)],meta(X3),exp:record_ptr[exp:ident(cmd),meta(X5)]]] ==> stmt:exprstmt:exp:assign[simple_assi(=),meta(X1),exp:call[meta(X2),exp:record_ptr[meta(X3),meta(X4)],meta(X3),exp:call[exp:ident(scsi_sglist),exp:ident(cmd)]]]

stmt:exprstmt:exp:assign[meta(X0),meta(X1),exp:call[meta(X2),meta(X3),meta(X4),exp:record_ptr[meta(X5),meta(X6)]]] ==> stmt:exprstmt:exp:assign[meta(X0),meta(X1),exp:call[meta(X2),meta(X3),meta(X4),exp:call[exp:ident(scsi_sglist),meta(X5)]]]

stmt:exprstmt:exp:assign[meta(X0),meta(X1),exp:call[meta(X2),meta(X3),meta(X4),exp:record_ptr[meta(X5),meta(X6)]]] ==> stmt:exprstmt:exp:assign[meta(X0),meta(X1),exp:call[meta(X2),meta(X3),meta(X4),exp:call[exp:ident(scsi_sglist),exp:ident(cmd)]]]

stmt:exprstmt:exp:assign[meta(X0),meta(X1),exp:call[meta(X2),meta(X3),meta(X4),exp:record_ptr[meta(X5),meta(X6)]]] ==> stmt:exprstmt:exp:assign[simple_assi(=),meta(X1),exp:call[meta(X2),meta(X3),meta(X4),exp:call[exp:ident(scsi_sglist),meta(X5)]]]

stmt:exprstmt:exp:assign[meta(X0),meta(X1),exp:call[meta(X2),meta(X3),meta(X4),exp:record_ptr[meta(X5),meta(X6)]]] ==> stmt:exprstmt:exp:assign[simple_assi(=),meta(X1),exp:call[meta(X2),meta(X3),meta(X4),exp:call[exp:ident(scsi_sglist),exp:ident(cmd)]]]

stmt:exprstmt:exp:assign[meta(X0),meta(X1),exp:call[meta(X2),meta(X3),meta(X4),exp:record_ptr[exp:ident(cmd),meta(X5)]]] ==> stmt:exprstmt:exp:assign[meta(X0),meta(X1),exp:call[meta(X2),meta(X3),meta(X4),exp:call[exp:ident(scsi_sglist),exp:ident(cmd)]]]

stmt:exprstmt:exp:assign[meta(X0),meta(X1),exp:call[meta(X2),meta(X3),meta(X4),exp:record_ptr[exp:ident(cmd),meta(X5)]]] ==> stmt:exprstmt:exp:assign[simple_assi(=),meta(X1),exp:call[meta(X2),meta(X3),meta(X4),exp:call[exp:ident(scsi_sglist),exp:ident(cmd)]]]

stmt:exprstmt:exp:assign[simple_assi(=),meta(X0),exp:call[meta(X1),exp:record_ptr[meta(X2),meta(X3)],meta(X2),exp:record_ptr[meta(X4),meta(X5)]]] ==> stmt:exprstmt:exp:assign[simple_assi(=),meta(X0),exp:call[meta(X1),exp:record_ptr[meta(X2),meta(X3)],meta(X2),exp:call[exp:ident(scsi_sglist),meta(X4)]]]

stmt:exprstmt:exp:assign[simple_assi(=),meta(X0),exp:call[meta(X1),exp:record_ptr[meta(X2),meta(X3)],meta(X2),exp:record_ptr[meta(X4),meta(X5)]]] ==> stmt:exprstmt:exp:assign[simple_assi(=),meta(X0),exp:call[meta(X1),exp:record_ptr[meta(X2),meta(X3)],meta(X2),exp:call[exp:ident(scsi_sglist),exp:ident(cmd)]]]

stmt:exprstmt:exp:assign[simple_assi(=),meta(X0),exp:call[meta(X1),exp:record_ptr[meta(X2),meta(X3)],meta(X2),exp:record_ptr[exp:ident(cmd),meta(X4)]]] ==> stmt:exprstmt:exp:assign[simple_assi(=),meta(X0),exp:call[meta(X1),exp:record_ptr[meta(X2),meta(X3)],meta(X2),exp:call[exp:ident(scsi_sglist),exp:ident(cmd)]]]

stmt:exprstmt:exp:assign[simple_assi(=),meta(X0),exp:call[meta(X1),meta(X2),meta(X3),exp:record_ptr[meta(X4),meta(X5)]]] ==> stmt:exprstmt:exp:assign[simple_assi(=),meta(X0),exp:call[meta(X1),meta(X2),meta(X3),exp:call[exp:ident(scsi_sglist),meta(X4)]]]

stmt:exprstmt:exp:assign[simple_assi(=),meta(X0),exp:call[meta(X1),meta(X2),meta(X3),exp:record_ptr[meta(X4),meta(X5)]]] ==> stmt:exprstmt:exp:assign[simple_assi(=),meta(X0),exp:call[meta(X1),meta(X2),meta(X3),exp:call[exp:ident(scsi_sglist),exp:ident(cmd)]]]

stmt:exprstmt:exp:assign[simple_assi(=),meta(X0),exp:call[meta(X1),meta(X2),meta(X3),exp:record_ptr[exp:ident(cmd),meta(X4)]]] ==> stmt:exprstmt:exp:assign[simple_assi(=),meta(X0),exp:call[meta(X1),meta(X2),meta(X3),exp:call[exp:ident(scsi_sglist),exp:ident(cmd)]]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[meta(X2),ident(use_sg)],exp:call[meta(X3),meta(X4)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),meta(X2)],exp:call[meta(X3),meta(X4)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[meta(X2),ident(use_sg)],exp:call[meta(X3),meta(X4)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],exp:call[meta(X3),meta(X4)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[meta(X2),ident(use_sg)],exp:call[meta(X3),meta(X4)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X2)],exp:call[meta(X3),meta(X4)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[meta(X2),ident(use_sg)],exp:call[meta(X3),meta(X4)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],exp:call[meta(X3),meta(X4)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[meta(X2),ident(use_sg)],exp:call[meta(X3),meta(X4)]] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),meta(X2)],exp:call[meta(X3),meta(X4)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[meta(X2),ident(use_sg)],exp:call[meta(X3),meta(X4)]] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],exp:call[meta(X3),meta(X4)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[meta(X2),ident(use_sg)],exp:call[meta(X3),meta(X4)]] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X2)],exp:call[meta(X3),meta(X4)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[meta(X2),ident(use_sg)],exp:call[meta(X3),meta(X4)]] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],exp:call[meta(X3),meta(X4)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[meta(X2),ident(use_sg)],meta(X3)] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),meta(X2)],meta(X3)]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[meta(X2),ident(use_sg)],meta(X3)] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],meta(X3)]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[meta(X2),ident(use_sg)],meta(X3)] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X2)],meta(X3)]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[meta(X2),ident(use_sg)],meta(X3)] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],meta(X3)]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[meta(X2),ident(use_sg)],meta(X3)] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),meta(X2)],meta(X3)]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[meta(X2),ident(use_sg)],meta(X3)] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],meta(X3)]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[meta(X2),ident(use_sg)],meta(X3)] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X2)],meta(X3)]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[meta(X2),ident(use_sg)],meta(X3)] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],meta(X3)]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:call[meta(X3),meta(X4)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),meta(X2)],exp:call[meta(X3),meta(X4)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:call[meta(X3),meta(X4)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],exp:call[meta(X3),meta(X4)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:call[meta(X3),meta(X4)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X2)],exp:call[meta(X3),meta(X4)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:call[meta(X3),meta(X4)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],exp:call[meta(X3),meta(X4)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:call[meta(X3),meta(X4)]] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),meta(X2)],exp:call[meta(X3),meta(X4)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:call[meta(X3),meta(X4)]] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],exp:call[meta(X3),meta(X4)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:call[meta(X3),meta(X4)]] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X2)],exp:call[meta(X3),meta(X4)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:call[meta(X3),meta(X4)]] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],exp:call[meta(X3),meta(X4)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),ident(use_sg)],meta(X3)] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),meta(X2)],meta(X3)]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),ident(use_sg)],meta(X3)] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],meta(X3)]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),ident(use_sg)],meta(X3)] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X2)],meta(X3)]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),ident(use_sg)],meta(X3)] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],meta(X3)]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),ident(use_sg)],meta(X3)] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),meta(X2)],meta(X3)]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),ident(use_sg)],meta(X3)] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],meta(X3)]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),ident(use_sg)],meta(X3)] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X2)],meta(X3)]

stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:record_ptr[exp:ident(cmd),ident(use_sg)],meta(X3)] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],meta(X3)]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),ident(use_sg)],exp:call[meta(X3),meta(X4)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),meta(X2)],exp:call[meta(X3),meta(X4)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),ident(use_sg)],exp:call[meta(X3),meta(X4)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],exp:call[meta(X3),meta(X4)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),ident(use_sg)],exp:call[meta(X3),meta(X4)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X2)],exp:call[meta(X3),meta(X4)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),ident(use_sg)],exp:call[meta(X3),meta(X4)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],exp:call[meta(X3),meta(X4)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),ident(use_sg)],exp:call[meta(X3),meta(X4)]] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),meta(X2)],exp:call[meta(X3),meta(X4)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),ident(use_sg)],exp:call[meta(X3),meta(X4)]] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],exp:call[meta(X3),meta(X4)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),ident(use_sg)],exp:call[meta(X3),meta(X4)]] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X2)],exp:call[meta(X3),meta(X4)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),ident(use_sg)],exp:call[meta(X3),meta(X4)]] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],exp:call[meta(X3),meta(X4)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),ident(use_sg)],meta(X3)] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),meta(X2)],meta(X3)]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),ident(use_sg)],meta(X3)] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],meta(X3)]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),ident(use_sg)],meta(X3)] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X2)],meta(X3)]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),ident(use_sg)],meta(X3)] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],meta(X3)]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),ident(use_sg)],meta(X3)] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),meta(X2)],meta(X3)]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),ident(use_sg)],meta(X3)] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X1),meta(X2),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],meta(X3)]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),ident(use_sg)],meta(X3)] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X2)],meta(X3)]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[meta(X2),ident(use_sg)],meta(X3)] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],meta(X3)]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:call[meta(X2),meta(X3)]] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],exp:call[meta(X2),meta(X3)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:call[meta(X2),meta(X3)]] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],exp:call[meta(X2),meta(X3)]]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[exp:ident(cmd),ident(use_sg)],meta(X2)] ==> stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],meta(X2)]

stmt:exprstmt:exp:call[meta(X0),meta(X1),exp:ident(cmd),exp:record_ptr[exp:ident(cmd),ident(use_sg)],meta(X2)] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X1),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],meta(X2)]

stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:record_ptr[meta(X1),ident(use_sg)],exp:call[meta(X2),meta(X3)]] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),meta(X1)],exp:call[meta(X2),meta(X3)]]

stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:record_ptr[meta(X1),ident(use_sg)],exp:call[meta(X2),meta(X3)]] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],exp:call[meta(X2),meta(X3)]]

stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:record_ptr[meta(X1),ident(use_sg)],exp:call[meta(X2),meta(X3)]] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X1)],exp:call[meta(X2),meta(X3)]]

stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:record_ptr[meta(X1),ident(use_sg)],exp:call[meta(X2),meta(X3)]] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],exp:call[meta(X2),meta(X3)]]

stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:record_ptr[meta(X1),ident(use_sg)],meta(X2)] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),meta(X1)],meta(X2)]

stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:record_ptr[meta(X1),ident(use_sg)],meta(X2)] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],meta(X2)]

stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:record_ptr[meta(X1),ident(use_sg)],meta(X2)] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X1)],meta(X2)]

stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:record_ptr[meta(X1),ident(use_sg)],meta(X2)] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],meta(X2)]

stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:call[meta(X2),meta(X3)]] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),meta(X1)],exp:call[meta(X2),meta(X3)]]

stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:call[meta(X2),meta(X3)]] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],exp:call[meta(X2),meta(X3)]]

stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:call[meta(X2),meta(X3)]] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X1)],exp:call[meta(X2),meta(X3)]]

stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:call[meta(X2),meta(X3)]] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],exp:call[meta(X2),meta(X3)]]

stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:record_ptr[exp:ident(cmd),ident(use_sg)],meta(X2)] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),meta(X1)],meta(X2)]

stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:record_ptr[exp:ident(cmd),ident(use_sg)],meta(X2)] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],meta(X2)]

stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:record_ptr[exp:ident(cmd),ident(use_sg)],meta(X2)] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X1)],meta(X2)]

stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:record_ptr[exp:ident(cmd),ident(use_sg)],meta(X2)] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],meta(X2)]

stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),exp:ident(cmd),exp:record_ptr[meta(X1),ident(use_sg)],exp:call[meta(X2),meta(X3)]] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),meta(X1)],exp:call[meta(X2),meta(X3)]]

stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),exp:ident(cmd),exp:record_ptr[meta(X1),ident(use_sg)],exp:call[meta(X2),meta(X3)]] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],exp:call[meta(X2),meta(X3)]]

stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),exp:ident(cmd),exp:record_ptr[meta(X1),ident(use_sg)],exp:call[meta(X2),meta(X3)]] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X1)],exp:call[meta(X2),meta(X3)]]

stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),exp:ident(cmd),exp:record_ptr[meta(X1),ident(use_sg)],exp:call[meta(X2),meta(X3)]] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],exp:call[meta(X2),meta(X3)]]

stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),exp:ident(cmd),exp:record_ptr[meta(X1),ident(use_sg)],meta(X2)] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),meta(X1)],meta(X2)]

stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),exp:ident(cmd),exp:record_ptr[meta(X1),ident(use_sg)],meta(X2)] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),meta(X1),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],meta(X2)]

stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),exp:ident(cmd),exp:record_ptr[meta(X1),ident(use_sg)],meta(X2)] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),meta(X1)],meta(X2)]

stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),exp:ident(cmd),exp:record_ptr[meta(X1),ident(use_sg)],meta(X2)] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],meta(X2)]

stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),exp:ident(cmd),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:call[meta(X1),meta(X2)]] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],exp:call[meta(X1),meta(X2)]]

stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),exp:ident(cmd),exp:record_ptr[exp:ident(cmd),ident(use_sg)],meta(X1)] ==> stmt:exprstmt:exp:call[exp:ident(dprintk),meta(X0),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],meta(X1)]

stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:record_ptr[exp:ident(rq),ident(nr_phys_segments)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(request_buffer)],exp:call[exp:ident(scsi_alloc_sgtable),exp:ident(cmd),exp:ident(gfp_mask)]],stmt:if[exp:!:exp:record_ptr[exp:ident(cmd),ident(request_buffer)],stmt:return:exp:-:exp:ident(ENOMEM),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(request_bufflen)],exp:record_ptr[exp:ident(rq),ident(data_len)]],stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(cmd %p cnt %d %lu\n),exp:ident(cmd),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:call[exp:ident(rq_data_dir),exp:ident(rq)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(count),exp:call[exp:ident(blk_rq_map_sg),exp:record_ptr[exp:ident(rq),ident(q)],exp:ident(rq),exp:record_ptr[exp:ident(cmd),ident(request_buffer)]]],stmt:if[exp:call[exp:ident(likely),exp:binary_logi[logiop(<=),exp:ident(count),exp:record_ptr[exp:ident(cmd),ident(use_sg)]]],stmt:comp{}[stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:ident(count)],stmt:return:exp:const:int(0)],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(cmd %p cnt %d\n),exp:ident(cmd),exp:record_ptr[exp:ident(cmd),ident(use_sg)]],stmt:exprstmt:exp:call[exp:ident(scsi_free_sgtable),exp:ident(cmd)],stmt:return:exp:-:exp:ident(EINVAL)] ==> stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:record_ptr[exp:ident(rq),ident(nr_phys_segments)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(request_buffer)],exp:call[exp:ident(scsi_alloc_sgtable),exp:ident(cmd),exp:ident(gfp_mask)]],stmt:if[exp:!:exp:record_ptr[exp:ident(cmd),ident(request_buffer)],stmt:return:exp:-:exp:ident(ENOMEM),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(request_bufflen)],exp:record_ptr[exp:ident(rq),ident(data_len)]],stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(cmd %p cnt %d %lu\n),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],exp:call[exp:ident(rq_data_dir),exp:ident(rq)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(count),exp:call[exp:ident(blk_rq_map_sg),exp:record_ptr[exp:ident(rq),ident(q)],exp:ident(rq),exp:call[exp:ident(scsi_sglist),exp:ident(cmd)]]],stmt:if[exp:call[exp:ident(likely),exp:binary_logi[logiop(<=),exp:ident(count),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]],stmt:comp{}[stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:ident(count)],stmt:return:exp:const:int(0)],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(cmd %p cnt %d\n),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]],stmt:exprstmt:exp:call[exp:ident(scsi_free_sgtable),exp:ident(cmd)],stmt:return:exp:-:exp:ident(EINVAL)]

def[fname(scsi_tgt_init_cmd),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(cmd),fulltype[typec(N/H)]],param[reg(),name(gfp_mask),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:record_ptr[exp:ident(rq),ident(nr_phys_segments)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(request_buffer)],exp:call[exp:ident(scsi_alloc_sgtable),exp:ident(cmd),exp:ident(gfp_mask)]],stmt:if[exp:!:exp:record_ptr[exp:ident(cmd),ident(request_buffer)],stmt:return:exp:-:exp:ident(ENOMEM),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(request_bufflen)],exp:record_ptr[exp:ident(rq),ident(data_len)]],stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(cmd %p cnt %d %lu\n),exp:ident(cmd),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:call[exp:ident(rq_data_dir),exp:ident(rq)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(count),exp:call[exp:ident(blk_rq_map_sg),exp:record_ptr[exp:ident(rq),ident(q)],exp:ident(rq),exp:record_ptr[exp:ident(cmd),ident(request_buffer)]]],stmt:if[exp:call[exp:ident(likely),exp:binary_logi[logiop(<=),exp:ident(count),exp:record_ptr[exp:ident(cmd),ident(use_sg)]]],stmt:comp{}[stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:ident(count)],stmt:return:exp:const:int(0)],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(cmd %p cnt %d\n),exp:ident(cmd),exp:record_ptr[exp:ident(cmd),ident(use_sg)]],stmt:exprstmt:exp:call[exp:ident(scsi_free_sgtable),exp:ident(cmd)],stmt:return:exp:-:exp:ident(EINVAL)]] ==> def[fname(scsi_tgt_init_cmd),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(cmd),fulltype[typec(N/H)]],param[reg(),name(gfp_mask),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:record_ptr[exp:ident(rq),ident(nr_phys_segments)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(request_buffer)],exp:call[exp:ident(scsi_alloc_sgtable),exp:ident(cmd),exp:ident(gfp_mask)]],stmt:if[exp:!:exp:record_ptr[exp:ident(cmd),ident(request_buffer)],stmt:return:exp:-:exp:ident(ENOMEM),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(request_bufflen)],exp:record_ptr[exp:ident(rq),ident(data_len)]],stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(cmd %p cnt %d %lu\n),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],exp:call[exp:ident(rq_data_dir),exp:ident(rq)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(count),exp:call[exp:ident(blk_rq_map_sg),exp:record_ptr[exp:ident(rq),ident(q)],exp:ident(rq),exp:call[exp:ident(scsi_sglist),exp:ident(cmd)]]],stmt:if[exp:call[exp:ident(likely),exp:binary_logi[logiop(<=),exp:ident(count),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]],stmt:comp{}[stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:ident(count)],stmt:return:exp:const:int(0)],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(cmd %p cnt %d\n),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]],stmt:exprstmt:exp:call[exp:ident(scsi_free_sgtable),exp:ident(cmd)],stmt:return:exp:-:exp:ident(EINVAL)]]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],stmt:exprstmt:exp:call[meta(X2),meta(X0)],meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),meta(X0)],stmt:exprstmt:exp:call[meta(X2),meta(X0)],meta(X3)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],stmt:exprstmt:exp:call[meta(X2),meta(X0)],meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),meta(X0)],stmt:exprstmt:exp:call[meta(X2),meta(X0)],stmt:exprstmt(none)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],stmt:exprstmt:exp:call[meta(X2),meta(X0)],meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),meta(X0)],stmt:exprstmt:exp:call[meta(X2),exp:ident(cmd)],meta(X3)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],stmt:exprstmt:exp:call[meta(X2),meta(X0)],meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),meta(X0)],stmt:exprstmt:exp:call[meta(X2),exp:ident(cmd)],stmt:exprstmt(none)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],stmt:exprstmt:exp:call[meta(X2),meta(X0)],meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],stmt:exprstmt:exp:call[meta(X2),meta(X0)],meta(X3)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],stmt:exprstmt:exp:call[meta(X2),meta(X0)],meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],stmt:exprstmt:exp:call[meta(X2),meta(X0)],stmt:exprstmt(none)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],stmt:exprstmt:exp:call[meta(X2),meta(X0)],meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],stmt:exprstmt:exp:call[meta(X2),exp:ident(cmd)],meta(X3)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],stmt:exprstmt:exp:call[meta(X2),meta(X0)],meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],stmt:exprstmt:exp:call[meta(X2),exp:ident(cmd)],stmt:exprstmt(none)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],stmt:exprstmt:exp:call[meta(X2),meta(X0)],stmt:exprstmt(none)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),meta(X0)],stmt:exprstmt:exp:call[meta(X2),meta(X0)],stmt:exprstmt(none)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],stmt:exprstmt:exp:call[meta(X2),meta(X0)],stmt:exprstmt(none)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),meta(X0)],stmt:exprstmt:exp:call[meta(X2),exp:ident(cmd)],stmt:exprstmt(none)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],stmt:exprstmt:exp:call[meta(X2),meta(X0)],stmt:exprstmt(none)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],stmt:exprstmt:exp:call[meta(X2),meta(X0)],stmt:exprstmt(none)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],stmt:exprstmt:exp:call[meta(X2),meta(X0)],stmt:exprstmt(none)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],stmt:exprstmt:exp:call[meta(X2),exp:ident(cmd)],stmt:exprstmt(none)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],stmt:exprstmt:exp:call[meta(X2),exp:ident(cmd)],meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),meta(X0)],stmt:exprstmt:exp:call[meta(X2),meta(X0)],meta(X3)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],stmt:exprstmt:exp:call[meta(X2),exp:ident(cmd)],meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),meta(X0)],stmt:exprstmt:exp:call[meta(X2),meta(X0)],stmt:exprstmt(none)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],stmt:exprstmt:exp:call[meta(X2),exp:ident(cmd)],meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),meta(X0)],stmt:exprstmt:exp:call[meta(X2),exp:ident(cmd)],meta(X3)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],stmt:exprstmt:exp:call[meta(X2),exp:ident(cmd)],meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),meta(X0)],stmt:exprstmt:exp:call[meta(X2),exp:ident(cmd)],stmt:exprstmt(none)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],stmt:exprstmt:exp:call[meta(X2),exp:ident(cmd)],meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],stmt:exprstmt:exp:call[meta(X2),meta(X0)],meta(X3)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],stmt:exprstmt:exp:call[meta(X2),exp:ident(cmd)],meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],stmt:exprstmt:exp:call[meta(X2),meta(X0)],stmt:exprstmt(none)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],stmt:exprstmt:exp:call[meta(X2),exp:ident(cmd)],meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],stmt:exprstmt:exp:call[meta(X2),exp:ident(cmd)],meta(X3)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],stmt:exprstmt:exp:call[meta(X2),exp:ident(cmd)],meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],stmt:exprstmt:exp:call[meta(X2),exp:ident(cmd)],stmt:exprstmt(none)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],stmt:exprstmt:exp:call[meta(X2),exp:ident(cmd)],stmt:exprstmt(none)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),meta(X0)],stmt:exprstmt:exp:call[meta(X2),meta(X0)],stmt:exprstmt(none)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],stmt:exprstmt:exp:call[meta(X2),exp:ident(cmd)],stmt:exprstmt(none)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),meta(X0)],stmt:exprstmt:exp:call[meta(X2),exp:ident(cmd)],stmt:exprstmt(none)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],stmt:exprstmt:exp:call[meta(X2),exp:ident(cmd)],stmt:exprstmt(none)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],stmt:exprstmt:exp:call[meta(X2),meta(X0)],stmt:exprstmt(none)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],stmt:exprstmt:exp:call[meta(X2),exp:ident(cmd)],stmt:exprstmt(none)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],stmt:exprstmt:exp:call[meta(X2),exp:ident(cmd)],stmt:exprstmt(none)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],meta(X2),meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),meta(X0)],meta(X2),meta(X3)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],meta(X2),meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),meta(X0)],meta(X2),stmt:exprstmt(none)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],meta(X2),meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],meta(X2),meta(X3)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],meta(X2),meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],meta(X2),stmt:exprstmt(none)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],meta(X2),stmt:exprstmt(none)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),meta(X0)],meta(X2),stmt:exprstmt(none)]

stmt:if[exp:record_ptr[meta(X0),meta(X1)],meta(X2),stmt:exprstmt(none)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],meta(X2),stmt:exprstmt(none)]

stmt:if[exp:record_ptr[exp:ident(cmd),meta(X0)],stmt:exprstmt:exp:call[meta(X1),meta(X2)],meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),meta(X2)],stmt:exprstmt:exp:call[meta(X1),meta(X2)],meta(X3)]

stmt:if[exp:record_ptr[exp:ident(cmd),meta(X0)],stmt:exprstmt:exp:call[meta(X1),meta(X2)],meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),meta(X2)],stmt:exprstmt:exp:call[meta(X1),meta(X2)],stmt:exprstmt(none)]

stmt:if[exp:record_ptr[exp:ident(cmd),meta(X0)],stmt:exprstmt:exp:call[meta(X1),meta(X2)],meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),meta(X2)],stmt:exprstmt:exp:call[meta(X1),exp:ident(cmd)],meta(X3)]

stmt:if[exp:record_ptr[exp:ident(cmd),meta(X0)],stmt:exprstmt:exp:call[meta(X1),meta(X2)],meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),meta(X2)],stmt:exprstmt:exp:call[meta(X1),exp:ident(cmd)],stmt:exprstmt(none)]

stmt:if[exp:record_ptr[exp:ident(cmd),meta(X0)],stmt:exprstmt:exp:call[meta(X1),meta(X2)],meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],stmt:exprstmt:exp:call[meta(X1),meta(X2)],meta(X3)]

stmt:if[exp:record_ptr[exp:ident(cmd),meta(X0)],stmt:exprstmt:exp:call[meta(X1),meta(X2)],meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],stmt:exprstmt:exp:call[meta(X1),meta(X2)],stmt:exprstmt(none)]

stmt:if[exp:record_ptr[exp:ident(cmd),meta(X0)],stmt:exprstmt:exp:call[meta(X1),meta(X2)],meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],stmt:exprstmt:exp:call[meta(X1),exp:ident(cmd)],meta(X3)]

stmt:if[exp:record_ptr[exp:ident(cmd),meta(X0)],stmt:exprstmt:exp:call[meta(X1),meta(X2)],meta(X3)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],stmt:exprstmt:exp:call[meta(X1),exp:ident(cmd)],stmt:exprstmt(none)]

stmt:if[exp:record_ptr[exp:ident(cmd),meta(X0)],stmt:exprstmt:exp:call[meta(X1),meta(X2)],stmt:exprstmt(none)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),meta(X2)],stmt:exprstmt:exp:call[meta(X1),meta(X2)],stmt:exprstmt(none)]

stmt:if[exp:record_ptr[exp:ident(cmd),meta(X0)],stmt:exprstmt:exp:call[meta(X1),meta(X2)],stmt:exprstmt(none)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),meta(X2)],stmt:exprstmt:exp:call[meta(X1),exp:ident(cmd)],stmt:exprstmt(none)]

stmt:if[exp:record_ptr[exp:ident(cmd),meta(X0)],stmt:exprstmt:exp:call[meta(X1),meta(X2)],stmt:exprstmt(none)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],stmt:exprstmt:exp:call[meta(X1),meta(X2)],stmt:exprstmt(none)]

stmt:if[exp:record_ptr[exp:ident(cmd),meta(X0)],stmt:exprstmt:exp:call[meta(X1),meta(X2)],stmt:exprstmt(none)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],stmt:exprstmt:exp:call[meta(X1),exp:ident(cmd)],stmt:exprstmt(none)]

stmt:if[exp:record_ptr[exp:ident(cmd),meta(X0)],stmt:exprstmt:exp:call[meta(X1),exp:ident(cmd)],meta(X2)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],stmt:exprstmt:exp:call[meta(X1),exp:ident(cmd)],meta(X2)]

stmt:if[exp:record_ptr[exp:ident(cmd),meta(X0)],stmt:exprstmt:exp:call[meta(X1),exp:ident(cmd)],meta(X2)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],stmt:exprstmt:exp:call[meta(X1),exp:ident(cmd)],stmt:exprstmt(none)]

stmt:if[exp:record_ptr[exp:ident(cmd),meta(X0)],stmt:exprstmt:exp:call[meta(X1),exp:ident(cmd)],stmt:exprstmt(none)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],stmt:exprstmt:exp:call[meta(X1),exp:ident(cmd)],stmt:exprstmt(none)]

stmt:if[exp:record_ptr[exp:ident(cmd),meta(X0)],meta(X1),meta(X2)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],meta(X1),meta(X2)]

stmt:if[exp:record_ptr[exp:ident(cmd),meta(X0)],meta(X1),meta(X2)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],meta(X1),stmt:exprstmt(none)]

stmt:if[exp:record_ptr[exp:ident(cmd),meta(X0)],meta(X1),stmt:exprstmt(none)] ==> stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],meta(X1),stmt:exprstmt(none)]

stmt:comp{}[stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(cmd %p %lu\n),exp:ident(cmd),exp:call[exp:ident(rq_data_dir),exp:record_ptr[exp:ident(cmd),ident(request)]]],stmt:exprstmt:exp:call[exp:ident(scsi_tgt_uspace_send_status),exp:ident(cmd),exp:record_ptr[exp:ident(tcmd),ident(itn_id)],exp:record_ptr[exp:ident(tcmd),ident(tag)]],stmt:if[exp:record_ptr[exp:ident(cmd),ident(request_buffer)],stmt:exprstmt:exp:call[exp:ident(scsi_free_sgtable),exp:ident(cmd)],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(queue_work),exp:ident(scsi_tgtd),exp:&ref:exp:record_ptr[exp:ident(tcmd),ident(work)]]] ==> stmt:comp{}[stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(cmd %p %lu\n),exp:ident(cmd),exp:call[exp:ident(rq_data_dir),exp:record_ptr[exp:ident(cmd),ident(request)]]],stmt:exprstmt:exp:call[exp:ident(scsi_tgt_uspace_send_status),exp:ident(cmd),exp:record_ptr[exp:ident(tcmd),ident(itn_id)],exp:record_ptr[exp:ident(tcmd),ident(tag)]],stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],stmt:exprstmt:exp:call[exp:ident(scsi_free_sgtable),exp:ident(cmd)],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(queue_work),exp:ident(scsi_tgtd),exp:&ref:exp:record_ptr[exp:ident(tcmd),ident(work)]]]

def[fname(scsi_tgt_cmd_done),funtype[fulltype[ctype[btype(void)]],param[reg(),name(cmd),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(cmd %p %lu\n),exp:ident(cmd),exp:call[exp:ident(rq_data_dir),exp:record_ptr[exp:ident(cmd),ident(request)]]],stmt:exprstmt:exp:call[exp:ident(scsi_tgt_uspace_send_status),exp:ident(cmd),exp:record_ptr[exp:ident(tcmd),ident(itn_id)],exp:record_ptr[exp:ident(tcmd),ident(tag)]],stmt:if[exp:record_ptr[exp:ident(cmd),ident(request_buffer)],stmt:exprstmt:exp:call[exp:ident(scsi_free_sgtable),exp:ident(cmd)],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(queue_work),exp:ident(scsi_tgtd),exp:&ref:exp:record_ptr[exp:ident(tcmd),ident(work)]]]] ==> def[fname(scsi_tgt_cmd_done),funtype[fulltype[ctype[btype(void)]],param[reg(),name(cmd),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(cmd %p %lu\n),exp:ident(cmd),exp:call[exp:ident(rq_data_dir),exp:record_ptr[exp:ident(cmd),ident(request)]]],stmt:exprstmt:exp:call[exp:ident(scsi_tgt_uspace_send_status),exp:ident(cmd),exp:record_ptr[exp:ident(tcmd),ident(itn_id)],exp:record_ptr[exp:ident(tcmd),ident(tag)]],stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],stmt:exprstmt:exp:call[exp:ident(scsi_free_sgtable),exp:ident(cmd)],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(queue_work),exp:ident(scsi_tgtd),exp:&ref:exp:record_ptr[exp:ident(tcmd),ident(work)]]]]

prg2[includeN[inc_elem(linux),inc_elem(blkdev.h)],includeN[inc_elem(linux),inc_elem(hash.h)],includeN[inc_elem(linux),inc_elem(module.h)],includeN[inc_elem(linux),inc_elem(pagemap.h)],includeN[inc_elem(scsi),inc_elem(scsi.h)],includeN[inc_elem(scsi),inc_elem(scsi_cmnd.h)],includeN[inc_elem(scsi),inc_elem(scsi_device.h)],includeN[inc_elem(scsi),inc_elem(scsi_host.h)],includeN[inc_elem(scsi),inc_elem(scsi_transport.h)],includeN[inc_elem(scsi),inc_elem(scsi_tgt.h)],includeL[inc_elem(scsi_tgt_priv.h)],decl(N/H),decl(N/H),decl(N/H),define(N/H),define(N/H),decl(N/H),def[fname(scsi_host_get_command),funtype[fulltype[typec(N/H)],param[reg(),name(shost),fulltype[typec(N/H)]],param[reg(),name(data_dir),fulltype[typec(N/H)]],param[reg(),name(gfp_mask),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:if[exp:!:exp:call[exp:ident(get_device),exp:&ref:exp:record_ptr[exp:ident(shost),ident(shost_gendev)]],stmt:return:exp:ident(NULL),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(tcmd),exp:call[exp:ident(kmem_cache_alloc),exp:ident(scsi_tgt_cmd_cache),exp:ident(GFP_ATOMIC)]],stmt:if[exp:!:exp:ident(tcmd),stmt:goto(put_dev),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(rq),exp:call[exp:ident(blk_get_request),exp:record_ptr[exp:ident(shost),ident(uspace_req_q)],exp:!:exp:ident(write),exp:ident(gfp_mask)]],stmt:if[exp:!:exp:ident(rq),stmt:goto(free_tcmd),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(cmd),exp:call[exp:ident(__scsi_get_command),exp:ident(shost),exp:ident(gfp_mask)]],stmt:if[exp:!:exp:ident(cmd),stmt:goto(release_rq),stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(memset),exp:ident(cmd),exp:const:int(0),exp:sizeof:exp:*ref:exp:ident(cmd)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(sc_data_direction)],exp:ident(data_dir)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(jiffies_at_alloc)],exp:ident(jiffies)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(request)],exp:ident(rq)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(rq),ident(special)],exp:ident(cmd)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(rq),ident(cmd_type)],exp:ident(REQ_TYPE_SPECIAL)],stmt:exprstmt:exp:assign[op_assi(|=),exp:record_ptr[exp:ident(rq),ident(cmd_flags)],exp:ident(REQ_TYPE_BLOCK_PC)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(rq),ident(end_io_data)],exp:ident(tcmd)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(tcmd),ident(rq)],exp:ident(rq)],stmt:return:exp:ident(cmd),statem(N/H),statem(N/H),statem(N/H),stmt:return:exp:ident(NULL)]],mtop(N/H),def[fname(scsi_host_put_command),funtype[fulltype[ctype[btype(void)]],param[reg(),name(shost),fulltype[typec(N/H)]],param[reg(),name(cmd),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(kmem_cache_free),exp:ident(scsi_tgt_cmd_cache),exp:ident(tcmd)],stmt:exprstmt:exp:call[exp:ident(spin_lock_irqsave),exp:record_ptr[exp:ident(q),ident(queue_lock)],exp:ident(flags)],stmt:exprstmt:exp:call[exp:ident(__blk_put_request),exp:ident(q),exp:ident(rq)],stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:record_ptr[exp:ident(q),ident(queue_lock)],exp:ident(flags)],stmt:exprstmt:exp:call[exp:ident(__scsi_put_command),exp:ident(shost),exp:ident(cmd),exp:&ref:exp:record_ptr[exp:ident(shost),ident(shost_gendev)]]]],mtop(N/H),def[fname(cmd_hashlist_del),funtype[fulltype[ctype[btype(void)]],param[reg(),name(cmd),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(spin_lock_irqsave),exp:&ref:exp:record_ptr[exp:ident(qdata),ident(cmd_hash_lock)],exp:ident(flags)],stmt:exprstmt:exp:call[exp:ident(list_del),exp:&ref:exp:record_ptr[exp:ident(tcmd),ident(hash_list)]],stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:&ref:exp:record_ptr[exp:ident(qdata),ident(cmd_hash_lock)],exp:ident(flags)]]],def[fname(scsi_unmap_user_pages),funtype[fulltype[ctype[btype(void)]],param[reg(),name(tcmd),fulltype[typec(N/H)]]],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(blk_rq_unmap_user),exp:record_ptr[exp:ident(tcmd),ident(bio)]]]],def[fname(scsi_tgt_cmd_destroy),funtype[fulltype[ctype[btype(void)]],param[reg(),name(work),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(cmd %p %d %lu\n),exp:ident(cmd),exp:record_ptr[exp:ident(cmd),ident(sc_data_direction)],exp:call[exp:ident(rq_data_dir),exp:record_ptr[exp:ident(cmd),ident(request)]]],stmt:exprstmt:exp:call[exp:ident(scsi_unmap_user_pages),exp:ident(tcmd)],stmt:exprstmt:exp:call[exp:ident(scsi_host_put_command),exp:call[exp:ident(scsi_tgt_cmd_to_host),exp:ident(cmd)],exp:ident(cmd)]]],def[fname(init_scsi_tgt_cmd),funtype[fulltype[ctype[btype(void)]],param[reg(),name(rq),fulltype[typec(N/H)]],param[reg(),name(tcmd),fulltype[typec(N/H)]],param[reg(),name(itn_id),fulltype[typec(N/H)]],param[reg(),name(tag),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(tcmd),ident(itn_id)],exp:ident(itn_id)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(tcmd),ident(tag)],exp:ident(tag)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(tcmd),ident(bio)],exp:ident(NULL)],stmt:exprstmt:exp:call[exp:ident(INIT_WORK),exp:&ref:exp:record_ptr[exp:ident(tcmd),ident(work)],exp:ident(scsi_tgt_cmd_destroy)],stmt:exprstmt:exp:call[exp:ident(spin_lock_irqsave),exp:&ref:exp:record_ptr[exp:ident(qdata),ident(cmd_hash_lock)],exp:ident(flags)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(head),exp:&ref:exp:array_acc[exp:record_ptr[exp:ident(qdata),ident(cmd_hash)],exp:call[exp:ident(cmd_hashfn),exp:ident(tag)]]],stmt:exprstmt:exp:call[exp:ident(list_add),exp:&ref:exp:record_ptr[exp:ident(tcmd),ident(hash_list)],exp:ident(head)],stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:&ref:exp:record_ptr[exp:ident(qdata),ident(cmd_hash_lock)],exp:ident(flags)]]],def[fname(scsi_tgt_alloc_queue),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(shost),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(q),exp:call[exp:ident(__scsi_alloc_queue),exp:ident(shost),exp:ident(NULL)]],stmt:if[exp:!:exp:ident(q),stmt:return:exp:-:exp:ident(ENOMEM),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(queuedata),exp:call[exp:ident(kzalloc),exp:sizeof:exp:*ref:exp:ident(queuedata),exp:ident(GFP_KERNEL)]],stmt:if[exp:!:exp:ident(queuedata),stmt:comp{}[stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:-:exp:ident(ENOMEM)],stmt:goto(cleanup_queue)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(queuedata),ident(shost)],exp:ident(shost)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(q),ident(queuedata)],exp:ident(queuedata)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(q),ident(nr_requests)],exp:record_ptr[exp:ident(shost),ident(can_queue)]],stmt:exprstmt:exp:call[exp:ident(blk_queue_dma_alignment),exp:ident(q),exp:const:int(0)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(shost),ident(uspace_req_q)],exp:ident(q)],stmt:for[exp:assign[simple_assi(=),exp:ident(i),exp:const:int(0)],exp:binary_logi[logiop(<),exp:ident(i),exp:call[exp:ident(ARRAY_SIZE),exp:record_ptr[exp:ident(queuedata),ident(cmd_hash)]]],exp:postfix:++:exp:ident(i),stmt:exprstmt:exp:call[exp:ident(INIT_LIST_HEAD),exp:&ref:exp:array_acc[exp:record_ptr[exp:ident(queuedata),ident(cmd_hash)],exp:ident(i)]]],stmt:exprstmt:exp:call[exp:ident(spin_lock_init),exp:&ref:exp:record_ptr[exp:ident(queuedata),ident(cmd_hash_lock)]],stmt:return:exp:const:int(0),statem(N/H),stmt:return:exp:ident(err)]],mtop(N/H),def[fname(scsi_tgt_free_queue),funtype[fulltype[ctype[btype(void)]],param[reg(),name(shost),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(LIST_HEAD),exp:ident(cmds)],stmt:exprstmt:exp:call[exp:ident(spin_lock_irqsave),exp:&ref:exp:record_ptr[exp:ident(qdata),ident(cmd_hash_lock)],exp:ident(flags)],stmt:for[exp:assign[simple_assi(=),exp:ident(i),exp:const:int(0)],exp:binary_logi[logiop(<),exp:ident(i),exp:call[exp:ident(ARRAY_SIZE),exp:record_ptr[exp:ident(qdata),ident(cmd_hash)]]],exp:postfix:++:exp:ident(i),stmt:comp{}[stmt:macroit:list_for_each_entry_safe[stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(list_del),exp:&ref:exp:record_ptr[exp:ident(tcmd),ident(hash_list)]],stmt:exprstmt:exp:call[exp:ident(list_add),exp:&ref:exp:record_ptr[exp:ident(tcmd),ident(hash_list)],exp:&ref:exp:ident(cmds)]]]]],stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:&ref:exp:record_ptr[exp:ident(qdata),ident(cmd_hash_lock)],exp:ident(flags)],stmt:while[exp:!:exp:call[exp:ident(list_empty),exp:&ref:exp:ident(cmds)],stmt:comp{}[stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(tcmd),exp:call[exp:ident(list_entry),exp:record_acc[exp:ident(cmds),ident(next)],argtype(N/H),exp:ident(hash_list)]],stmt:exprstmt:exp:call[exp:ident(list_del),exp:&ref:exp:record_ptr[exp:ident(tcmd),ident(hash_list)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(cmd),exp:record_ptr[exp:record_ptr[exp:ident(tcmd),ident(rq)],ident(special)]],stmt:exprstmt:exp:call[exp:record_ptr[exp:record_ptr[exp:ident(shost),ident(hostt)],ident(eh_abort_handler)],exp:ident(cmd)],stmt:exprstmt:exp:call[exp:ident(scsi_tgt_cmd_destroy),exp:&ref:exp:record_ptr[exp:ident(tcmd),ident(work)]]]]]],mtop(N/H),def[fname(scsi_tgt_cmd_to_host),funtype[fulltype[typec(N/H)],param[reg(),name(cmd),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:return:exp:record_ptr[exp:ident(queue),ident(shost)]]],mtop(N/H),def[fname(scsi_tgt_queue_command),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(cmd),fulltype[typec(N/H)]],param[reg(),name(itn_id),fulltype[typec(N/H)]],param[reg(),name(scsilun),fulltype[typec(N/H)]],param[reg(),name(tag),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(init_scsi_tgt_cmd),exp:record_ptr[exp:ident(cmd),ident(request)],exp:ident(tcmd),exp:ident(itn_id),exp:ident(tag)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(scsi_tgt_uspace_send_cmd),exp:ident(cmd),exp:ident(itn_id),exp:ident(scsilun),exp:ident(tag)]],stmt:if[exp:ident(err),stmt:exprstmt:exp:call[exp:ident(cmd_hashlist_del),exp:ident(cmd)],stmt:exprstmt(none)],stmt:return:exp:ident(err)]],mtop(N/H),def[fname(scsi_tgt_cmd_done),funtype[fulltype[ctype[btype(void)]],param[reg(),name(cmd),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(cmd %p %lu\n),exp:ident(cmd),exp:call[exp:ident(rq_data_dir),exp:record_ptr[exp:ident(cmd),ident(request)]]],stmt:exprstmt:exp:call[exp:ident(scsi_tgt_uspace_send_status),exp:ident(cmd),exp:record_ptr[exp:ident(tcmd),ident(itn_id)],exp:record_ptr[exp:ident(tcmd),ident(tag)]],stmt:if[exp:record_ptr[exp:ident(cmd),ident(request_buffer)],stmt:exprstmt:exp:call[exp:ident(scsi_free_sgtable),exp:ident(cmd)],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(queue_work),exp:ident(scsi_tgtd),exp:&ref:exp:record_ptr[exp:ident(tcmd),ident(work)]]]],def[fname(scsi_tgt_transfer_response),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(cmd),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(cmd %p %lu\n),exp:ident(cmd),exp:call[exp:ident(rq_data_dir),exp:record_ptr[exp:ident(cmd),ident(request)]]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:record_ptr[exp:record_ptr[exp:ident(shost),ident(hostt)],ident(transfer_response)],exp:ident(cmd),exp:ident(scsi_tgt_cmd_done)]],stmt:switch[exp:ident(err),stmt:comp{}[statem(N/H)]],stmt:return:exp:const:int(0)]],def[fname(scsi_tgt_init_cmd),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(cmd),fulltype[typec(N/H)]],param[reg(),name(gfp_mask),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:record_ptr[exp:ident(rq),ident(nr_phys_segments)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(request_buffer)],exp:call[exp:ident(scsi_alloc_sgtable),exp:ident(cmd),exp:ident(gfp_mask)]],stmt:if[exp:!:exp:record_ptr[exp:ident(cmd),ident(request_buffer)],stmt:return:exp:-:exp:ident(ENOMEM),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(request_bufflen)],exp:record_ptr[exp:ident(rq),ident(data_len)]],stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(cmd %p cnt %d %lu\n),exp:ident(cmd),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:call[exp:ident(rq_data_dir),exp:ident(rq)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(count),exp:call[exp:ident(blk_rq_map_sg),exp:record_ptr[exp:ident(rq),ident(q)],exp:ident(rq),exp:record_ptr[exp:ident(cmd),ident(request_buffer)]]],stmt:if[exp:call[exp:ident(likely),exp:binary_logi[logiop(<=),exp:ident(count),exp:record_ptr[exp:ident(cmd),ident(use_sg)]]],stmt:comp{}[stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:ident(count)],stmt:return:exp:const:int(0)],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(cmd %p cnt %d\n),exp:ident(cmd),exp:record_ptr[exp:ident(cmd),ident(use_sg)]],stmt:exprstmt:exp:call[exp:ident(scsi_free_sgtable),exp:ident(cmd)],stmt:return:exp:-:exp:ident(EINVAL)]],def[fname(scsi_map_user_pages),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(tcmd),fulltype[typec(N/H)]],param[reg(),name(cmd),fulltype[typec(N/H)]],param[reg(),name(uaddr),fulltype[ctype[btype[itype[sgn(unsigned),base(long)]]]]],param[reg(),name(len),fulltype[ctype[btype[itype[sgn(unsigned),base(int)]]]]],param[reg(),name(rw),fulltype[ctype[btype[itype[sgn(signed),base(int)]]]]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(%lx %u\n),exp:ident(uaddr),exp:ident(len)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(blk_rq_map_user),exp:ident(q),exp:ident(rq),exp:cast[fulltype[typec(N/H)],exp:ident(uaddr)],exp:ident(len)]],stmt:if[exp:ident(err),stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(Could not handle request of size %u.\n),exp:ident(len)],stmt:return:exp:ident(err)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(tcmd),ident(bio)],exp:record_ptr[exp:ident(rq),ident(bio)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(scsi_tgt_init_cmd),exp:ident(cmd),exp:ident(GFP_KERNEL)]],stmt:if[exp:ident(err),stmt:goto(unmap_rq),stmt:exprstmt(none)],stmt:return:exp:const:int(0),statem(N/H),stmt:return:exp:ident(err)]],NCP(N/H),def[fname(scsi_tgt_abort_cmd),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(shost),fulltype[typec(N/H)]],param[reg(),name(cmd),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:record_ptr[exp:record_ptr[exp:ident(shost),ident(hostt)],ident(eh_abort_handler)],exp:ident(cmd)]],stmt:if[exp:ident(err),stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(fail to abort %p\n),exp:ident(cmd)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(tcmd),exp:record_ptr[exp:record_ptr[exp:ident(cmd),ident(request)],ident(end_io_data)]],stmt:exprstmt:exp:call[exp:ident(scsi_tgt_cmd_destroy),exp:&ref:exp:record_ptr[exp:ident(tcmd),ident(work)]],stmt:return:exp:ident(err)]],def[fname(tgt_cmd_hash_lookup),funtype[fulltype[typec(N/H)],param[reg(),name(q),fulltype[typec(N/H)]],param[reg(),name(tag),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(head),exp:&ref:exp:array_acc[exp:record_ptr[exp:ident(qdata),ident(cmd_hash)],exp:call[exp:ident(cmd_hashfn),exp:ident(tag)]]],stmt:exprstmt:exp:call[exp:ident(spin_lock_irqsave),exp:&ref:exp:record_ptr[exp:ident(qdata),ident(cmd_hash_lock)],exp:ident(flags)],stmt:macroit:list_for_each_entry[stmt:comp{}[stmt:if[exp:binary_logi[logiop(==),exp:record_ptr[exp:ident(tcmd),ident(tag)],exp:ident(tag)],stmt:comp{}[stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(rq),exp:record_ptr[exp:ident(tcmd),ident(rq)]],stmt:exprstmt:exp:call[exp:ident(list_del),exp:&ref:exp:record_ptr[exp:ident(tcmd),ident(hash_list)]],stmt:jump(break)],stmt:exprstmt(none)]]],stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:&ref:exp:record_ptr[exp:ident(qdata),ident(cmd_hash_lock)],exp:ident(flags)],stmt:return:exp:ident(rq)]],def[fname(scsi_tgt_kspace_exec),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(host_no),fulltype[ctype[btype[itype[sgn(signed),base(int)]]]]],param[reg(),name(itn_id),fulltype[typec(N/H)]],param[reg(),name(result),fulltype[ctype[btype[itype[sgn(signed),base(int)]]]]],param[reg(),name(tag),fulltype[typec(N/H)]],param[reg(),name(uaddr),fulltype[ctype[btype[itype[sgn(unsigned),base(long)]]]]],param[reg(),name(len),fulltype[typec(N/H)]],param[reg(),name(sense_uaddr),fulltype[ctype[btype[itype[sgn(unsigned),base(long)]]]]],param[reg(),name(sense_len),fulltype[typec(N/H)]],param[reg(),name(rw),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(%d %llu %d %u %lx %u\n),exp:ident(host_no),exp:cast[fulltype[ctype[btype[itype[sgn(unsigned),base(long long)]]]],exp:ident(tag)],exp:ident(result),exp:ident(len),exp:ident(uaddr),exp:ident(rw)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(shost),exp:call[exp:ident(scsi_host_lookup),exp:ident(host_no)]],stmt:if[exp:call[exp:ident(IS_ERR),exp:ident(shost)],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(printk),exp:const:other(N/H),exp:ident(host_no)],stmt:return:exp:-:exp:ident(EINVAL)],stmt:exprstmt(none)],stmt:if[exp:!:exp:record_ptr[exp:ident(shost),ident(uspace_req_q)],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(printk),exp:const:other(N/H),exp:ident(host_no)],stmt:goto(done)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(rq),exp:call[exp:ident(tgt_cmd_hash_lookup),exp:record_ptr[exp:ident(shost),ident(uspace_req_q)],exp:ident(tag)]],stmt:if[exp:!:exp:ident(rq),stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(printk),exp:const:other(N/H),exp:cast[fulltype[ctype[btype[itype[sgn(unsigned),base(long long)]]]],exp:ident(tag)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:-:exp:ident(EINVAL)],stmt:goto(done)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(cmd),exp:record_ptr[exp:ident(rq),ident(special)]],stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(cmd %p scb %x result %d len %d bufflen %u %lu %x\n),exp:ident(cmd),exp:array_acc[exp:record_ptr[exp:ident(cmd),ident(cmnd)],exp:const:int(0)],exp:ident(result),exp:ident(len),exp:record_ptr[exp:ident(cmd),ident(request_bufflen)],exp:call[exp:ident(rq_data_dir),exp:ident(rq)],exp:array_acc[exp:record_ptr[exp:ident(cmd),ident(cmnd)],exp:const:int(0)]],stmt:if[exp:binary_logi[logiop(==),exp:ident(result),exp:ident(TASK_ABORTED)],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(scsi_tgt_abort_cmd),exp:ident(shost),exp:ident(cmd)],stmt:goto(done)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(tcmd),exp:record_ptr[exp:record_ptr[exp:ident(cmd),ident(request)],ident(end_io_data)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(result)],exp:ident(result)],stmt:if[exp:binary_logi[logiop(==),exp:record_ptr[exp:ident(cmd),ident(result)],exp:ident(SAM_STAT_CHECK_CONDITION)],stmt:exprstmt:exp:call[exp:ident(scsi_tgt_copy_sense),exp:ident(cmd),exp:ident(sense_uaddr),exp:ident(sense_len)],stmt:exprstmt(none)],stmt:if[exp:ident(len),stmt:comp{}[stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(scsi_map_user_pages),exp:record_ptr[exp:ident(rq),ident(end_io_data)],exp:ident(cmd),exp:ident(uaddr),exp:ident(len),exp:ident(rw)]],stmt:if[exp:ident(err),stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(cmd %p ret %d uaddr %lx len %d rw %d\n),exp:ident(cmd),exp:ident(err),exp:ident(uaddr),exp:ident(len),exp:ident(rw)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(qdata),exp:record_ptr[exp:record_ptr[exp:ident(shost),ident(uspace_req_q)],ident(queuedata)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(head),exp:&ref:exp:array_acc[exp:record_ptr[exp:ident(qdata),ident(cmd_hash)],exp:call[exp:ident(cmd_hashfn),exp:record_ptr[exp:ident(tcmd),ident(tag)]]]],stmt:exprstmt:exp:call[exp:ident(spin_lock_irqsave),exp:&ref:exp:record_ptr[exp:ident(qdata),ident(cmd_hash_lock)],exp:ident(flags)],stmt:exprstmt:exp:call[exp:ident(list_add),exp:&ref:exp:record_ptr[exp:ident(tcmd),ident(hash_list)],exp:ident(head)],stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:&ref:exp:record_ptr[exp:ident(qdata),ident(cmd_hash_lock)],exp:ident(flags)],stmt:goto(done)],stmt:exprstmt(none)]],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(scsi_tgt_transfer_response),exp:ident(cmd)]],statem(N/H),stmt:return:exp:ident(err)]],def[fname(scsi_tgt_tsk_mgmt_request),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(shost),fulltype[typec(N/H)]],param[reg(),name(itn_id),fulltype[typec(N/H)]],param[reg(),name(function),fulltype[ctype[btype[itype[sgn(signed),base(int)]]]]],param[reg(),name(tag),fulltype[typec(N/H)]],param[reg(),name(scsilun),fulltype[typec(N/H)]],param[reg(),name(data),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(scsi_tgt_uspace_send_tsk_mgmt),exp:record_ptr[exp:ident(shost),ident(host_no)],exp:ident(itn_id),exp:ident(function),exp:ident(tag),exp:ident(scsilun),exp:ident(data)]],stmt:if[exp:binary_logi[logiop(<),exp:ident(err),exp:const:int(0)],stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(The task management request lost!\n)],stmt:exprstmt(none)],stmt:return:exp:ident(err)]],mtop(N/H),def[fname(scsi_tgt_kspace_tsk_mgmt),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(host_no),fulltype[ctype[btype[itype[sgn(signed),base(int)]]]]],param[reg(),name(itn_id),fulltype[typec(N/H)]],param[reg(),name(mid),fulltype[typec(N/H)]],param[reg(),name(result),fulltype[ctype[btype[itype[sgn(signed),base(int)]]]]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(%d %d %llx\n),exp:ident(host_no),exp:ident(result),exp:cast[fulltype[ctype[btype[itype[sgn(unsigned),base(long long)]]]],exp:ident(mid)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(shost),exp:call[exp:ident(scsi_host_lookup),exp:ident(host_no)]],stmt:if[exp:call[exp:ident(IS_ERR),exp:ident(shost)],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(printk),exp:const:other(N/H),exp:ident(host_no)],stmt:return:exp:ident(err)],stmt:exprstmt(none)],stmt:if[exp:!:exp:record_ptr[exp:ident(shost),ident(uspace_req_q)],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(printk),exp:const:other(N/H),exp:ident(host_no)],stmt:goto(done)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:record_ptr[exp:record_ptr[exp:ident(shost),ident(transportt)],ident(tsk_mgmt_response)],exp:ident(shost),exp:ident(itn_id),exp:ident(mid),exp:ident(result)]],statem(N/H),stmt:return:exp:ident(err)]],def[fname(scsi_tgt_it_nexus_create),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(shost),fulltype[typec(N/H)]],param[reg(),name(itn_id),fulltype[typec(N/H)]],param[reg(),name(initiator),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(scsi_tgt_uspace_send_it_nexus_request),exp:record_ptr[exp:ident(shost),ident(host_no)],exp:ident(itn_id),exp:const:int(0),exp:ident(initiator)]],stmt:if[exp:binary_logi[logiop(<),exp:ident(err),exp:const:int(0)],stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(The i_t_neuxs request lost, %d %llx!\n),exp:record_ptr[exp:ident(shost),ident(host_no)],exp:cast[fulltype[ctype[btype[itype[sgn(unsigned),base(long long)]]]],exp:ident(itn_id)]],stmt:exprstmt(none)],stmt:return:exp:ident(err)]],mtop(N/H),def[fname(scsi_tgt_it_nexus_destroy),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(shost),fulltype[typec(N/H)]],param[reg(),name(itn_id),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(scsi_tgt_uspace_send_it_nexus_request),exp:record_ptr[exp:ident(shost),ident(host_no)],exp:ident(itn_id),exp:const:int(1),exp:ident(NULL)]],stmt:if[exp:binary_logi[logiop(<),exp:ident(err),exp:const:int(0)],stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(The i_t_neuxs request lost, %d %llx!\n),exp:record_ptr[exp:ident(shost),ident(host_no)],exp:cast[fulltype[ctype[btype[itype[sgn(unsigned),base(long long)]]]],exp:ident(itn_id)]],stmt:exprstmt(none)],stmt:return:exp:ident(err)]],mtop(N/H),def[fname(scsi_tgt_kspace_it_nexus_rsp),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(host_no),fulltype[ctype[btype[itype[sgn(signed),base(int)]]]]],param[reg(),name(itn_id),fulltype[typec(N/H)]],param[reg(),name(result),fulltype[ctype[btype[itype[sgn(signed),base(int)]]]]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(%d %d %llx\n),exp:ident(host_no),exp:ident(result),exp:cast[fulltype[ctype[btype[itype[sgn(unsigned),base(long long)]]]],exp:ident(mid)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(shost),exp:call[exp:ident(scsi_host_lookup),exp:ident(host_no)]],stmt:if[exp:call[exp:ident(IS_ERR),exp:ident(shost)],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(printk),exp:const:other(N/H),exp:ident(host_no)],stmt:return:exp:ident(err)],stmt:exprstmt(none)],stmt:if[exp:!:exp:record_ptr[exp:ident(shost),ident(uspace_req_q)],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(printk),exp:const:other(N/H),exp:ident(host_no)],stmt:goto(done)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:record_ptr[exp:record_ptr[exp:ident(shost),ident(transportt)],ident(it_nexus_response)],exp:ident(shost),exp:ident(itn_id),exp:ident(result)]],statem(N/H),stmt:return:exp:ident(err)]],NCP(N/H),NCP(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H)] ==> prg2[includeN[inc_elem(linux),inc_elem(blkdev.h)],includeN[inc_elem(linux),inc_elem(hash.h)],includeN[inc_elem(linux),inc_elem(module.h)],includeN[inc_elem(linux),inc_elem(pagemap.h)],includeN[inc_elem(scsi),inc_elem(scsi.h)],includeN[inc_elem(scsi),inc_elem(scsi_cmnd.h)],includeN[inc_elem(scsi),inc_elem(scsi_device.h)],includeN[inc_elem(scsi),inc_elem(scsi_host.h)],includeN[inc_elem(scsi),inc_elem(scsi_transport.h)],includeN[inc_elem(scsi),inc_elem(scsi_tgt.h)],includeL[inc_elem(scsi_tgt_priv.h)],decl(N/H),decl(N/H),decl(N/H),define(N/H),define(N/H),decl(N/H),def[fname(scsi_host_get_command),funtype[fulltype[typec(N/H)],param[reg(),name(shost),fulltype[typec(N/H)]],param[reg(),name(data_dir),fulltype[typec(N/H)]],param[reg(),name(gfp_mask),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:if[exp:!:exp:call[exp:ident(get_device),exp:&ref:exp:record_ptr[exp:ident(shost),ident(shost_gendev)]],stmt:return:exp:ident(NULL),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(tcmd),exp:call[exp:ident(kmem_cache_alloc),exp:ident(scsi_tgt_cmd_cache),exp:ident(GFP_ATOMIC)]],stmt:if[exp:!:exp:ident(tcmd),stmt:goto(put_dev),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(rq),exp:call[exp:ident(blk_get_request),exp:record_ptr[exp:ident(shost),ident(uspace_req_q)],exp:!:exp:ident(write),exp:ident(gfp_mask)]],stmt:if[exp:!:exp:ident(rq),stmt:goto(free_tcmd),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(cmd),exp:call[exp:ident(__scsi_get_command),exp:ident(shost),exp:ident(gfp_mask)]],stmt:if[exp:!:exp:ident(cmd),stmt:goto(release_rq),stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(memset),exp:ident(cmd),exp:const:int(0),exp:sizeof:exp:*ref:exp:ident(cmd)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(sc_data_direction)],exp:ident(data_dir)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(jiffies_at_alloc)],exp:ident(jiffies)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(request)],exp:ident(rq)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(rq),ident(special)],exp:ident(cmd)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(rq),ident(cmd_type)],exp:ident(REQ_TYPE_SPECIAL)],stmt:exprstmt:exp:assign[op_assi(|=),exp:record_ptr[exp:ident(rq),ident(cmd_flags)],exp:ident(REQ_TYPE_BLOCK_PC)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(rq),ident(end_io_data)],exp:ident(tcmd)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(tcmd),ident(rq)],exp:ident(rq)],stmt:return:exp:ident(cmd),statem(N/H),statem(N/H),statem(N/H),stmt:return:exp:ident(NULL)]],mtop(N/H),def[fname(scsi_host_put_command),funtype[fulltype[ctype[btype(void)]],param[reg(),name(shost),fulltype[typec(N/H)]],param[reg(),name(cmd),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(kmem_cache_free),exp:ident(scsi_tgt_cmd_cache),exp:ident(tcmd)],stmt:exprstmt:exp:call[exp:ident(spin_lock_irqsave),exp:record_ptr[exp:ident(q),ident(queue_lock)],exp:ident(flags)],stmt:exprstmt:exp:call[exp:ident(__blk_put_request),exp:ident(q),exp:ident(rq)],stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:record_ptr[exp:ident(q),ident(queue_lock)],exp:ident(flags)],stmt:exprstmt:exp:call[exp:ident(__scsi_put_command),exp:ident(shost),exp:ident(cmd),exp:&ref:exp:record_ptr[exp:ident(shost),ident(shost_gendev)]]]],mtop(N/H),def[fname(cmd_hashlist_del),funtype[fulltype[ctype[btype(void)]],param[reg(),name(cmd),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(spin_lock_irqsave),exp:&ref:exp:record_ptr[exp:ident(qdata),ident(cmd_hash_lock)],exp:ident(flags)],stmt:exprstmt:exp:call[exp:ident(list_del),exp:&ref:exp:record_ptr[exp:ident(tcmd),ident(hash_list)]],stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:&ref:exp:record_ptr[exp:ident(qdata),ident(cmd_hash_lock)],exp:ident(flags)]]],def[fname(scsi_unmap_user_pages),funtype[fulltype[ctype[btype(void)]],param[reg(),name(tcmd),fulltype[typec(N/H)]]],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(blk_rq_unmap_user),exp:record_ptr[exp:ident(tcmd),ident(bio)]]]],def[fname(scsi_tgt_cmd_destroy),funtype[fulltype[ctype[btype(void)]],param[reg(),name(work),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(cmd %p %d %lu\n),exp:ident(cmd),exp:record_ptr[exp:ident(cmd),ident(sc_data_direction)],exp:call[exp:ident(rq_data_dir),exp:record_ptr[exp:ident(cmd),ident(request)]]],stmt:exprstmt:exp:call[exp:ident(scsi_unmap_user_pages),exp:ident(tcmd)],stmt:exprstmt:exp:call[exp:ident(scsi_host_put_command),exp:call[exp:ident(scsi_tgt_cmd_to_host),exp:ident(cmd)],exp:ident(cmd)]]],def[fname(init_scsi_tgt_cmd),funtype[fulltype[ctype[btype(void)]],param[reg(),name(rq),fulltype[typec(N/H)]],param[reg(),name(tcmd),fulltype[typec(N/H)]],param[reg(),name(itn_id),fulltype[typec(N/H)]],param[reg(),name(tag),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(tcmd),ident(itn_id)],exp:ident(itn_id)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(tcmd),ident(tag)],exp:ident(tag)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(tcmd),ident(bio)],exp:ident(NULL)],stmt:exprstmt:exp:call[exp:ident(INIT_WORK),exp:&ref:exp:record_ptr[exp:ident(tcmd),ident(work)],exp:ident(scsi_tgt_cmd_destroy)],stmt:exprstmt:exp:call[exp:ident(spin_lock_irqsave),exp:&ref:exp:record_ptr[exp:ident(qdata),ident(cmd_hash_lock)],exp:ident(flags)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(head),exp:&ref:exp:array_acc[exp:record_ptr[exp:ident(qdata),ident(cmd_hash)],exp:call[exp:ident(cmd_hashfn),exp:ident(tag)]]],stmt:exprstmt:exp:call[exp:ident(list_add),exp:&ref:exp:record_ptr[exp:ident(tcmd),ident(hash_list)],exp:ident(head)],stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:&ref:exp:record_ptr[exp:ident(qdata),ident(cmd_hash_lock)],exp:ident(flags)]]],def[fname(scsi_tgt_alloc_queue),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(shost),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(q),exp:call[exp:ident(__scsi_alloc_queue),exp:ident(shost),exp:ident(NULL)]],stmt:if[exp:!:exp:ident(q),stmt:return:exp:-:exp:ident(ENOMEM),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(queuedata),exp:call[exp:ident(kzalloc),exp:sizeof:exp:*ref:exp:ident(queuedata),exp:ident(GFP_KERNEL)]],stmt:if[exp:!:exp:ident(queuedata),stmt:comp{}[stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:-:exp:ident(ENOMEM)],stmt:goto(cleanup_queue)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(queuedata),ident(shost)],exp:ident(shost)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(q),ident(queuedata)],exp:ident(queuedata)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(q),ident(nr_requests)],exp:record_ptr[exp:ident(shost),ident(can_queue)]],stmt:exprstmt:exp:call[exp:ident(blk_queue_dma_alignment),exp:ident(q),exp:const:int(0)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(shost),ident(uspace_req_q)],exp:ident(q)],stmt:for[exp:assign[simple_assi(=),exp:ident(i),exp:const:int(0)],exp:binary_logi[logiop(<),exp:ident(i),exp:call[exp:ident(ARRAY_SIZE),exp:record_ptr[exp:ident(queuedata),ident(cmd_hash)]]],exp:postfix:++:exp:ident(i),stmt:exprstmt:exp:call[exp:ident(INIT_LIST_HEAD),exp:&ref:exp:array_acc[exp:record_ptr[exp:ident(queuedata),ident(cmd_hash)],exp:ident(i)]]],stmt:exprstmt:exp:call[exp:ident(spin_lock_init),exp:&ref:exp:record_ptr[exp:ident(queuedata),ident(cmd_hash_lock)]],stmt:return:exp:const:int(0),statem(N/H),stmt:return:exp:ident(err)]],mtop(N/H),def[fname(scsi_tgt_free_queue),funtype[fulltype[ctype[btype(void)]],param[reg(),name(shost),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(LIST_HEAD),exp:ident(cmds)],stmt:exprstmt:exp:call[exp:ident(spin_lock_irqsave),exp:&ref:exp:record_ptr[exp:ident(qdata),ident(cmd_hash_lock)],exp:ident(flags)],stmt:for[exp:assign[simple_assi(=),exp:ident(i),exp:const:int(0)],exp:binary_logi[logiop(<),exp:ident(i),exp:call[exp:ident(ARRAY_SIZE),exp:record_ptr[exp:ident(qdata),ident(cmd_hash)]]],exp:postfix:++:exp:ident(i),stmt:comp{}[stmt:macroit:list_for_each_entry_safe[stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(list_del),exp:&ref:exp:record_ptr[exp:ident(tcmd),ident(hash_list)]],stmt:exprstmt:exp:call[exp:ident(list_add),exp:&ref:exp:record_ptr[exp:ident(tcmd),ident(hash_list)],exp:&ref:exp:ident(cmds)]]]]],stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:&ref:exp:record_ptr[exp:ident(qdata),ident(cmd_hash_lock)],exp:ident(flags)],stmt:while[exp:!:exp:call[exp:ident(list_empty),exp:&ref:exp:ident(cmds)],stmt:comp{}[stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(tcmd),exp:call[exp:ident(list_entry),exp:record_acc[exp:ident(cmds),ident(next)],argtype(N/H),exp:ident(hash_list)]],stmt:exprstmt:exp:call[exp:ident(list_del),exp:&ref:exp:record_ptr[exp:ident(tcmd),ident(hash_list)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(cmd),exp:record_ptr[exp:record_ptr[exp:ident(tcmd),ident(rq)],ident(special)]],stmt:exprstmt:exp:call[exp:record_ptr[exp:record_ptr[exp:ident(shost),ident(hostt)],ident(eh_abort_handler)],exp:ident(cmd)],stmt:exprstmt:exp:call[exp:ident(scsi_tgt_cmd_destroy),exp:&ref:exp:record_ptr[exp:ident(tcmd),ident(work)]]]]]],mtop(N/H),def[fname(scsi_tgt_cmd_to_host),funtype[fulltype[typec(N/H)],param[reg(),name(cmd),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:return:exp:record_ptr[exp:ident(queue),ident(shost)]]],mtop(N/H),def[fname(scsi_tgt_queue_command),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(cmd),fulltype[typec(N/H)]],param[reg(),name(itn_id),fulltype[typec(N/H)]],param[reg(),name(scsilun),fulltype[typec(N/H)]],param[reg(),name(tag),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(init_scsi_tgt_cmd),exp:record_ptr[exp:ident(cmd),ident(request)],exp:ident(tcmd),exp:ident(itn_id),exp:ident(tag)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(scsi_tgt_uspace_send_cmd),exp:ident(cmd),exp:ident(itn_id),exp:ident(scsilun),exp:ident(tag)]],stmt:if[exp:ident(err),stmt:exprstmt:exp:call[exp:ident(cmd_hashlist_del),exp:ident(cmd)],stmt:exprstmt(none)],stmt:return:exp:ident(err)]],mtop(N/H),def[fname(scsi_tgt_cmd_done),funtype[fulltype[ctype[btype(void)]],param[reg(),name(cmd),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(cmd %p %lu\n),exp:ident(cmd),exp:call[exp:ident(rq_data_dir),exp:record_ptr[exp:ident(cmd),ident(request)]]],stmt:exprstmt:exp:call[exp:ident(scsi_tgt_uspace_send_status),exp:ident(cmd),exp:record_ptr[exp:ident(tcmd),ident(itn_id)],exp:record_ptr[exp:ident(tcmd),ident(tag)]],stmt:if[exp:call[exp:ident(scsi_sglist),exp:ident(cmd)],stmt:exprstmt:exp:call[exp:ident(scsi_free_sgtable),exp:ident(cmd)],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(queue_work),exp:ident(scsi_tgtd),exp:&ref:exp:record_ptr[exp:ident(tcmd),ident(work)]]]],def[fname(scsi_tgt_transfer_response),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(cmd),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(cmd %p %lu\n),exp:ident(cmd),exp:call[exp:ident(rq_data_dir),exp:record_ptr[exp:ident(cmd),ident(request)]]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:record_ptr[exp:record_ptr[exp:ident(shost),ident(hostt)],ident(transfer_response)],exp:ident(cmd),exp:ident(scsi_tgt_cmd_done)]],stmt:switch[exp:ident(err),stmt:comp{}[statem(N/H)]],stmt:return:exp:const:int(0)]],def[fname(scsi_tgt_init_cmd),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(cmd),fulltype[typec(N/H)]],param[reg(),name(gfp_mask),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:record_ptr[exp:ident(rq),ident(nr_phys_segments)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(request_buffer)],exp:call[exp:ident(scsi_alloc_sgtable),exp:ident(cmd),exp:ident(gfp_mask)]],stmt:if[exp:!:exp:record_ptr[exp:ident(cmd),ident(request_buffer)],stmt:return:exp:-:exp:ident(ENOMEM),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(request_bufflen)],exp:record_ptr[exp:ident(rq),ident(data_len)]],stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(cmd %p cnt %d %lu\n),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)],exp:call[exp:ident(rq_data_dir),exp:ident(rq)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(count),exp:call[exp:ident(blk_rq_map_sg),exp:record_ptr[exp:ident(rq),ident(q)],exp:ident(rq),exp:call[exp:ident(scsi_sglist),exp:ident(cmd)]]],stmt:if[exp:call[exp:ident(likely),exp:binary_logi[logiop(<=),exp:ident(count),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]]],stmt:comp{}[stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(use_sg)],exp:ident(count)],stmt:return:exp:const:int(0)],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(cmd %p cnt %d\n),exp:ident(cmd),exp:call[exp:ident(scsi_sg_count),exp:ident(cmd)]],stmt:exprstmt:exp:call[exp:ident(scsi_free_sgtable),exp:ident(cmd)],stmt:return:exp:-:exp:ident(EINVAL)]],def[fname(scsi_map_user_pages),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(tcmd),fulltype[typec(N/H)]],param[reg(),name(cmd),fulltype[typec(N/H)]],param[reg(),name(uaddr),fulltype[ctype[btype[itype[sgn(unsigned),base(long)]]]]],param[reg(),name(len),fulltype[ctype[btype[itype[sgn(unsigned),base(int)]]]]],param[reg(),name(rw),fulltype[ctype[btype[itype[sgn(signed),base(int)]]]]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(%lx %u\n),exp:ident(uaddr),exp:ident(len)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(blk_rq_map_user),exp:ident(q),exp:ident(rq),exp:cast[fulltype[typec(N/H)],exp:ident(uaddr)],exp:ident(len)]],stmt:if[exp:ident(err),stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(Could not handle request of size %u.\n),exp:ident(len)],stmt:return:exp:ident(err)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(tcmd),ident(bio)],exp:record_ptr[exp:ident(rq),ident(bio)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(scsi_tgt_init_cmd),exp:ident(cmd),exp:ident(GFP_KERNEL)]],stmt:if[exp:ident(err),stmt:goto(unmap_rq),stmt:exprstmt(none)],stmt:return:exp:const:int(0),statem(N/H),stmt:return:exp:ident(err)]],NCP(N/H),def[fname(scsi_tgt_abort_cmd),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(shost),fulltype[typec(N/H)]],param[reg(),name(cmd),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:record_ptr[exp:record_ptr[exp:ident(shost),ident(hostt)],ident(eh_abort_handler)],exp:ident(cmd)]],stmt:if[exp:ident(err),stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(fail to abort %p\n),exp:ident(cmd)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(tcmd),exp:record_ptr[exp:record_ptr[exp:ident(cmd),ident(request)],ident(end_io_data)]],stmt:exprstmt:exp:call[exp:ident(scsi_tgt_cmd_destroy),exp:&ref:exp:record_ptr[exp:ident(tcmd),ident(work)]],stmt:return:exp:ident(err)]],def[fname(tgt_cmd_hash_lookup),funtype[fulltype[typec(N/H)],param[reg(),name(q),fulltype[typec(N/H)]],param[reg(),name(tag),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(head),exp:&ref:exp:array_acc[exp:record_ptr[exp:ident(qdata),ident(cmd_hash)],exp:call[exp:ident(cmd_hashfn),exp:ident(tag)]]],stmt:exprstmt:exp:call[exp:ident(spin_lock_irqsave),exp:&ref:exp:record_ptr[exp:ident(qdata),ident(cmd_hash_lock)],exp:ident(flags)],stmt:macroit:list_for_each_entry[stmt:comp{}[stmt:if[exp:binary_logi[logiop(==),exp:record_ptr[exp:ident(tcmd),ident(tag)],exp:ident(tag)],stmt:comp{}[stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(rq),exp:record_ptr[exp:ident(tcmd),ident(rq)]],stmt:exprstmt:exp:call[exp:ident(list_del),exp:&ref:exp:record_ptr[exp:ident(tcmd),ident(hash_list)]],stmt:jump(break)],stmt:exprstmt(none)]]],stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:&ref:exp:record_ptr[exp:ident(qdata),ident(cmd_hash_lock)],exp:ident(flags)],stmt:return:exp:ident(rq)]],def[fname(scsi_tgt_kspace_exec),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(host_no),fulltype[ctype[btype[itype[sgn(signed),base(int)]]]]],param[reg(),name(itn_id),fulltype[typec(N/H)]],param[reg(),name(result),fulltype[ctype[btype[itype[sgn(signed),base(int)]]]]],param[reg(),name(tag),fulltype[typec(N/H)]],param[reg(),name(uaddr),fulltype[ctype[btype[itype[sgn(unsigned),base(long)]]]]],param[reg(),name(len),fulltype[typec(N/H)]],param[reg(),name(sense_uaddr),fulltype[ctype[btype[itype[sgn(unsigned),base(long)]]]]],param[reg(),name(sense_len),fulltype[typec(N/H)]],param[reg(),name(rw),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(%d %llu %d %u %lx %u\n),exp:ident(host_no),exp:cast[fulltype[ctype[btype[itype[sgn(unsigned),base(long long)]]]],exp:ident(tag)],exp:ident(result),exp:ident(len),exp:ident(uaddr),exp:ident(rw)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(shost),exp:call[exp:ident(scsi_host_lookup),exp:ident(host_no)]],stmt:if[exp:call[exp:ident(IS_ERR),exp:ident(shost)],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(printk),exp:const:other(N/H),exp:ident(host_no)],stmt:return:exp:-:exp:ident(EINVAL)],stmt:exprstmt(none)],stmt:if[exp:!:exp:record_ptr[exp:ident(shost),ident(uspace_req_q)],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(printk),exp:const:other(N/H),exp:ident(host_no)],stmt:goto(done)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(rq),exp:call[exp:ident(tgt_cmd_hash_lookup),exp:record_ptr[exp:ident(shost),ident(uspace_req_q)],exp:ident(tag)]],stmt:if[exp:!:exp:ident(rq),stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(printk),exp:const:other(N/H),exp:cast[fulltype[ctype[btype[itype[sgn(unsigned),base(long long)]]]],exp:ident(tag)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:-:exp:ident(EINVAL)],stmt:goto(done)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(cmd),exp:record_ptr[exp:ident(rq),ident(special)]],stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(cmd %p scb %x result %d len %d bufflen %u %lu %x\n),exp:ident(cmd),exp:array_acc[exp:record_ptr[exp:ident(cmd),ident(cmnd)],exp:const:int(0)],exp:ident(result),exp:ident(len),exp:record_ptr[exp:ident(cmd),ident(request_bufflen)],exp:call[exp:ident(rq_data_dir),exp:ident(rq)],exp:array_acc[exp:record_ptr[exp:ident(cmd),ident(cmnd)],exp:const:int(0)]],stmt:if[exp:binary_logi[logiop(==),exp:ident(result),exp:ident(TASK_ABORTED)],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(scsi_tgt_abort_cmd),exp:ident(shost),exp:ident(cmd)],stmt:goto(done)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(tcmd),exp:record_ptr[exp:record_ptr[exp:ident(cmd),ident(request)],ident(end_io_data)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(cmd),ident(result)],exp:ident(result)],stmt:if[exp:binary_logi[logiop(==),exp:record_ptr[exp:ident(cmd),ident(result)],exp:ident(SAM_STAT_CHECK_CONDITION)],stmt:exprstmt:exp:call[exp:ident(scsi_tgt_copy_sense),exp:ident(cmd),exp:ident(sense_uaddr),exp:ident(sense_len)],stmt:exprstmt(none)],stmt:if[exp:ident(len),stmt:comp{}[stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(scsi_map_user_pages),exp:record_ptr[exp:ident(rq),ident(end_io_data)],exp:ident(cmd),exp:ident(uaddr),exp:ident(len),exp:ident(rw)]],stmt:if[exp:ident(err),stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(cmd %p ret %d uaddr %lx len %d rw %d\n),exp:ident(cmd),exp:ident(err),exp:ident(uaddr),exp:ident(len),exp:ident(rw)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(qdata),exp:record_ptr[exp:record_ptr[exp:ident(shost),ident(uspace_req_q)],ident(queuedata)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(head),exp:&ref:exp:array_acc[exp:record_ptr[exp:ident(qdata),ident(cmd_hash)],exp:call[exp:ident(cmd_hashfn),exp:record_ptr[exp:ident(tcmd),ident(tag)]]]],stmt:exprstmt:exp:call[exp:ident(spin_lock_irqsave),exp:&ref:exp:record_ptr[exp:ident(qdata),ident(cmd_hash_lock)],exp:ident(flags)],stmt:exprstmt:exp:call[exp:ident(list_add),exp:&ref:exp:record_ptr[exp:ident(tcmd),ident(hash_list)],exp:ident(head)],stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:&ref:exp:record_ptr[exp:ident(qdata),ident(cmd_hash_lock)],exp:ident(flags)],stmt:goto(done)],stmt:exprstmt(none)]],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(scsi_tgt_transfer_response),exp:ident(cmd)]],statem(N/H),stmt:return:exp:ident(err)]],def[fname(scsi_tgt_tsk_mgmt_request),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(shost),fulltype[typec(N/H)]],param[reg(),name(itn_id),fulltype[typec(N/H)]],param[reg(),name(function),fulltype[ctype[btype[itype[sgn(signed),base(int)]]]]],param[reg(),name(tag),fulltype[typec(N/H)]],param[reg(),name(scsilun),fulltype[typec(N/H)]],param[reg(),name(data),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(scsi_tgt_uspace_send_tsk_mgmt),exp:record_ptr[exp:ident(shost),ident(host_no)],exp:ident(itn_id),exp:ident(function),exp:ident(tag),exp:ident(scsilun),exp:ident(data)]],stmt:if[exp:binary_logi[logiop(<),exp:ident(err),exp:const:int(0)],stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(The task management request lost!\n)],stmt:exprstmt(none)],stmt:return:exp:ident(err)]],mtop(N/H),def[fname(scsi_tgt_kspace_tsk_mgmt),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(host_no),fulltype[ctype[btype[itype[sgn(signed),base(int)]]]]],param[reg(),name(itn_id),fulltype[typec(N/H)]],param[reg(),name(mid),fulltype[typec(N/H)]],param[reg(),name(result),fulltype[ctype[btype[itype[sgn(signed),base(int)]]]]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(%d %d %llx\n),exp:ident(host_no),exp:ident(result),exp:cast[fulltype[ctype[btype[itype[sgn(unsigned),base(long long)]]]],exp:ident(mid)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(shost),exp:call[exp:ident(scsi_host_lookup),exp:ident(host_no)]],stmt:if[exp:call[exp:ident(IS_ERR),exp:ident(shost)],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(printk),exp:const:other(N/H),exp:ident(host_no)],stmt:return:exp:ident(err)],stmt:exprstmt(none)],stmt:if[exp:!:exp:record_ptr[exp:ident(shost),ident(uspace_req_q)],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(printk),exp:const:other(N/H),exp:ident(host_no)],stmt:goto(done)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:record_ptr[exp:record_ptr[exp:ident(shost),ident(transportt)],ident(tsk_mgmt_response)],exp:ident(shost),exp:ident(itn_id),exp:ident(mid),exp:ident(result)]],statem(N/H),stmt:return:exp:ident(err)]],def[fname(scsi_tgt_it_nexus_create),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(shost),fulltype[typec(N/H)]],param[reg(),name(itn_id),fulltype[typec(N/H)]],param[reg(),name(initiator),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(scsi_tgt_uspace_send_it_nexus_request),exp:record_ptr[exp:ident(shost),ident(host_no)],exp:ident(itn_id),exp:const:int(0),exp:ident(initiator)]],stmt:if[exp:binary_logi[logiop(<),exp:ident(err),exp:const:int(0)],stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(The i_t_neuxs request lost, %d %llx!\n),exp:record_ptr[exp:ident(shost),ident(host_no)],exp:cast[fulltype[ctype[btype[itype[sgn(unsigned),base(long long)]]]],exp:ident(itn_id)]],stmt:exprstmt(none)],stmt:return:exp:ident(err)]],mtop(N/H),def[fname(scsi_tgt_it_nexus_destroy),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(shost),fulltype[typec(N/H)]],param[reg(),name(itn_id),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(scsi_tgt_uspace_send_it_nexus_request),exp:record_ptr[exp:ident(shost),ident(host_no)],exp:ident(itn_id),exp:const:int(1),exp:ident(NULL)]],stmt:if[exp:binary_logi[logiop(<),exp:ident(err),exp:const:int(0)],stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(The i_t_neuxs request lost, %d %llx!\n),exp:record_ptr[exp:ident(shost),ident(host_no)],exp:cast[fulltype[ctype[btype[itype[sgn(unsigned),base(long long)]]]],exp:ident(itn_id)]],stmt:exprstmt(none)],stmt:return:exp:ident(err)]],mtop(N/H),def[fname(scsi_tgt_kspace_it_nexus_rsp),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(host_no),fulltype[ctype[btype[itype[sgn(signed),base(int)]]]]],param[reg(),name(itn_id),fulltype[typec(N/H)]],param[reg(),name(result),fulltype[ctype[btype[itype[sgn(signed),base(int)]]]]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(%d %d %llx\n),exp:ident(host_no),exp:ident(result),exp:cast[fulltype[ctype[btype[itype[sgn(unsigned),base(long long)]]]],exp:ident(mid)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(shost),exp:call[exp:ident(scsi_host_lookup),exp:ident(host_no)]],stmt:if[exp:call[exp:ident(IS_ERR),exp:ident(shost)],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(printk),exp:const:other(N/H),exp:ident(host_no)],stmt:return:exp:ident(err)],stmt:exprstmt(none)],stmt:if[exp:!:exp:record_ptr[exp:ident(shost),ident(uspace_req_q)],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(printk),exp:const:other(N/H),exp:ident(host_no)],stmt:goto(done)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:record_ptr[exp:record_ptr[exp:ident(shost),ident(transportt)],ident(it_nexus_response)],exp:ident(shost),exp:ident(itn_id),exp:ident(result)]],statem(N/H),stmt:return:exp:ident(err)]],NCP(N/H),NCP(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H)]

  
exp:record_ptr[meta(X0),ident(use_sg)] ==> exp:call[exp:ident(scsi_sg_count),meta(X0)]

stmt:if[exp:record_ptr[exp:ident(sc),ident(use_sg)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(srp_transfer_data),exp:ident(sc),exp:&ref:exp:record_acc[exp:record_ptr[exp:call[exp:ident(vio_iu),exp:ident(iue)],ident(srp)],ident(cmd)],exp:ident(ibmvstgt_rdma),exp:const:int(1),exp:const:int(1)]],stmt:exprstmt(none)] ==> stmt:if[exp:call[exp:ident(scsi_sg_count),exp:ident(sc)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(srp_transfer_data),exp:ident(sc),exp:&ref:exp:record_acc[exp:record_ptr[exp:call[exp:ident(vio_iu),exp:ident(iue)],ident(srp)],ident(cmd)],exp:ident(ibmvstgt_rdma),exp:const:int(1),exp:const:int(1)]],stmt:exprstmt(none)]

stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(%p %p %x %u\n),exp:ident(iue),exp:ident(target),exp:array_acc[exp:record_acc[exp:record_acc[exp:record_ptr[exp:call[exp:ident(vio_iu),exp:ident(iue)],ident(srp)],ident(cmd)],ident(cdb)],exp:const:int(0)],exp:record_ptr[exp:ident(cmd),ident(usg_sg)]],stmt:if[exp:record_ptr[exp:ident(sc),ident(use_sg)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(srp_transfer_data),exp:ident(sc),exp:&ref:exp:record_acc[exp:record_ptr[exp:call[exp:ident(vio_iu),exp:ident(iue)],ident(srp)],ident(cmd)],exp:ident(ibmvstgt_rdma),exp:const:int(1),exp:const:int(1)]],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(spin_lock_irqsave),exp:&ref:exp:record_ptr[exp:ident(target),ident(lock)],exp:ident(flags)],stmt:exprstmt:exp:call[exp:ident(list_del),exp:&ref:exp:record_ptr[exp:ident(iue),ident(ilist)]],stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:&ref:exp:record_ptr[exp:ident(target),ident(lock)],exp:ident(flags)],stmt:if[exp:binary_logi[logiop(||),exp:ident(err),exp:binary_logi[logiop(!=),exp:record_ptr[exp:ident(sc),ident(result)],exp:ident(SAM_STAT_GOOD)]],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(operation failed %p %d %x\n),exp:ident(iue),exp:record_ptr[exp:ident(sc),ident(result)],exp:array_acc[exp:record_acc[exp:record_acc[exp:record_ptr[exp:call[exp:ident(vio_iu),exp:ident(iue)],ident(srp)],ident(cmd)],ident(cdb)],exp:const:int(0)]],stmt:exprstmt:exp:call[exp:ident(send_rsp),exp:ident(iue),exp:ident(sc),exp:ident(HARDWARE_ERROR),exp:const:int(0x00)]],stmt:exprstmt:exp:call[exp:ident(send_rsp),exp:ident(iue),exp:ident(sc),exp:ident(NO_SENSE),exp:const:int(0x00)]],stmt:exprstmt:exp:call[exp:ident(done),exp:ident(sc)],stmt:exprstmt:exp:call[exp:ident(srp_iu_put),exp:ident(iue)],stmt:return:exp:const:int(0)] ==> stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(%p %p %x %u\n),exp:ident(iue),exp:ident(target),exp:array_acc[exp:record_acc[exp:record_acc[exp:record_ptr[exp:call[exp:ident(vio_iu),exp:ident(iue)],ident(srp)],ident(cmd)],ident(cdb)],exp:const:int(0)],exp:record_ptr[exp:ident(cmd),ident(usg_sg)]],stmt:if[exp:call[exp:ident(scsi_sg_count),exp:ident(sc)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(srp_transfer_data),exp:ident(sc),exp:&ref:exp:record_acc[exp:record_ptr[exp:call[exp:ident(vio_iu),exp:ident(iue)],ident(srp)],ident(cmd)],exp:ident(ibmvstgt_rdma),exp:const:int(1),exp:const:int(1)]],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(spin_lock_irqsave),exp:&ref:exp:record_ptr[exp:ident(target),ident(lock)],exp:ident(flags)],stmt:exprstmt:exp:call[exp:ident(list_del),exp:&ref:exp:record_ptr[exp:ident(iue),ident(ilist)]],stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:&ref:exp:record_ptr[exp:ident(target),ident(lock)],exp:ident(flags)],stmt:if[exp:binary_logi[logiop(||),exp:ident(err),exp:binary_logi[logiop(!=),exp:record_ptr[exp:ident(sc),ident(result)],exp:ident(SAM_STAT_GOOD)]],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(operation failed %p %d %x\n),exp:ident(iue),exp:record_ptr[exp:ident(sc),ident(result)],exp:array_acc[exp:record_acc[exp:record_acc[exp:record_ptr[exp:call[exp:ident(vio_iu),exp:ident(iue)],ident(srp)],ident(cmd)],ident(cdb)],exp:const:int(0)]],stmt:exprstmt:exp:call[exp:ident(send_rsp),exp:ident(iue),exp:ident(sc),exp:ident(HARDWARE_ERROR),exp:const:int(0x00)]],stmt:exprstmt:exp:call[exp:ident(send_rsp),exp:ident(iue),exp:ident(sc),exp:ident(NO_SENSE),exp:const:int(0x00)]],stmt:exprstmt:exp:call[exp:ident(done),exp:ident(sc)],stmt:exprstmt:exp:call[exp:ident(srp_iu_put),exp:ident(iue)],stmt:return:exp:const:int(0)]

def[fname(ibmvstgt_cmd_done),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(sc),fulltype[typec(N/H)]],param[reg(),name(done),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(%p %p %x %u\n),exp:ident(iue),exp:ident(target),exp:array_acc[exp:record_acc[exp:record_acc[exp:record_ptr[exp:call[exp:ident(vio_iu),exp:ident(iue)],ident(srp)],ident(cmd)],ident(cdb)],exp:const:int(0)],exp:record_ptr[exp:ident(cmd),ident(usg_sg)]],stmt:if[exp:record_ptr[exp:ident(sc),ident(use_sg)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(srp_transfer_data),exp:ident(sc),exp:&ref:exp:record_acc[exp:record_ptr[exp:call[exp:ident(vio_iu),exp:ident(iue)],ident(srp)],ident(cmd)],exp:ident(ibmvstgt_rdma),exp:const:int(1),exp:const:int(1)]],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(spin_lock_irqsave),exp:&ref:exp:record_ptr[exp:ident(target),ident(lock)],exp:ident(flags)],stmt:exprstmt:exp:call[exp:ident(list_del),exp:&ref:exp:record_ptr[exp:ident(iue),ident(ilist)]],stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:&ref:exp:record_ptr[exp:ident(target),ident(lock)],exp:ident(flags)],stmt:if[exp:binary_logi[logiop(||),exp:ident(err),exp:binary_logi[logiop(!=),exp:record_ptr[exp:ident(sc),ident(result)],exp:ident(SAM_STAT_GOOD)]],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(operation failed %p %d %x\n),exp:ident(iue),exp:record_ptr[exp:ident(sc),ident(result)],exp:array_acc[exp:record_acc[exp:record_acc[exp:record_ptr[exp:call[exp:ident(vio_iu),exp:ident(iue)],ident(srp)],ident(cmd)],ident(cdb)],exp:const:int(0)]],stmt:exprstmt:exp:call[exp:ident(send_rsp),exp:ident(iue),exp:ident(sc),exp:ident(HARDWARE_ERROR),exp:const:int(0x00)]],stmt:exprstmt:exp:call[exp:ident(send_rsp),exp:ident(iue),exp:ident(sc),exp:ident(NO_SENSE),exp:const:int(0x00)]],stmt:exprstmt:exp:call[exp:ident(done),exp:ident(sc)],stmt:exprstmt:exp:call[exp:ident(srp_iu_put),exp:ident(iue)],stmt:return:exp:const:int(0)]] ==> def[fname(ibmvstgt_cmd_done),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(sc),fulltype[typec(N/H)]],param[reg(),name(done),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(%p %p %x %u\n),exp:ident(iue),exp:ident(target),exp:array_acc[exp:record_acc[exp:record_acc[exp:record_ptr[exp:call[exp:ident(vio_iu),exp:ident(iue)],ident(srp)],ident(cmd)],ident(cdb)],exp:const:int(0)],exp:record_ptr[exp:ident(cmd),ident(usg_sg)]],stmt:if[exp:call[exp:ident(scsi_sg_count),exp:ident(sc)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(srp_transfer_data),exp:ident(sc),exp:&ref:exp:record_acc[exp:record_ptr[exp:call[exp:ident(vio_iu),exp:ident(iue)],ident(srp)],ident(cmd)],exp:ident(ibmvstgt_rdma),exp:const:int(1),exp:const:int(1)]],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(spin_lock_irqsave),exp:&ref:exp:record_ptr[exp:ident(target),ident(lock)],exp:ident(flags)],stmt:exprstmt:exp:call[exp:ident(list_del),exp:&ref:exp:record_ptr[exp:ident(iue),ident(ilist)]],stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:&ref:exp:record_ptr[exp:ident(target),ident(lock)],exp:ident(flags)],stmt:if[exp:binary_logi[logiop(||),exp:ident(err),exp:binary_logi[logiop(!=),exp:record_ptr[exp:ident(sc),ident(result)],exp:ident(SAM_STAT_GOOD)]],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(operation failed %p %d %x\n),exp:ident(iue),exp:record_ptr[exp:ident(sc),ident(result)],exp:array_acc[exp:record_acc[exp:record_acc[exp:record_ptr[exp:call[exp:ident(vio_iu),exp:ident(iue)],ident(srp)],ident(cmd)],ident(cdb)],exp:const:int(0)]],stmt:exprstmt:exp:call[exp:ident(send_rsp),exp:ident(iue),exp:ident(sc),exp:ident(HARDWARE_ERROR),exp:const:int(0x00)]],stmt:exprstmt:exp:call[exp:ident(send_rsp),exp:ident(iue),exp:ident(sc),exp:ident(NO_SENSE),exp:const:int(0x00)]],stmt:exprstmt:exp:call[exp:ident(done),exp:ident(sc)],stmt:exprstmt:exp:call[exp:ident(srp_iu_put),exp:ident(iue)],stmt:return:exp:const:int(0)]]

prg2[includeN[inc_elem(linux),inc_elem(interrupt.h)],includeN[inc_elem(linux),inc_elem(module.h)],includeN[inc_elem(scsi),inc_elem(scsi.h)],includeN[inc_elem(scsi),inc_elem(scsi_host.h)],includeN[inc_elem(scsi),inc_elem(scsi_transport_srp.h)],includeN[inc_elem(scsi),inc_elem(scsi_tgt.h)],includeN[inc_elem(scsi),inc_elem(libsrp.h)],includeN[inc_elem(asm),inc_elem(hvcall.h)],includeN[inc_elem(asm),inc_elem(iommu.h)],includeN[inc_elem(asm),inc_elem(prom.h)],includeN[inc_elem(asm),inc_elem(vio.h)],includeL[inc_elem(ibmvscsi.h)],define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),decl(N/H),decl(N/H),decl(N/H),decl(N/H),decl(N/H),decl(N/H),def[fname(target_to_port),funtype[fulltype[typec(N/H)],param[reg(),name(target),fulltype[typec(N/H)]]],stmt:comp{}[stmt:return:exp:cast[fulltype[typec(N/H)],exp:record_ptr[exp:ident(target),ident(ldata)]]]],def[fname(vio_iu),funtype[fulltype[typec(N/H)],param[reg(),name(iue),fulltype[typec(N/H)]]],stmt:comp{}[stmt:return:exp:cast[fulltype[typec(N/H)],exp:record_ptr[exp:record_ptr[exp:ident(iue),ident(sbuf)],ident(buf)]]]],def[fname(send_iu),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(iue),fulltype[typec(N/H)]],param[reg(),name(length),fulltype[typec(N/H)]],param[reg(),name(format),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(rc),exp:call[exp:ident(h_copy_rdma),exp:ident(length),exp:record_ptr[exp:ident(vport),ident(liobn)],exp:record_ptr[exp:record_ptr[exp:ident(iue),ident(sbuf)],ident(dma)],exp:record_ptr[exp:ident(vport),ident(riobn)],exp:record_ptr[exp:ident(iue),ident(remote_token)]]],stmt:if[exp:ident(rc),stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(Error %ld transferring data\n),exp:ident(rc)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:ident(crq),ident(cooked)],ident(valid)],exp:const:int(0x80)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:ident(crq),ident(cooked)],ident(format)],exp:ident(format)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:ident(crq),ident(cooked)],ident(reserved)],exp:const:int(0x00)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:ident(crq),ident(cooked)],ident(timeout)],exp:const:int(0x00)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:ident(crq),ident(cooked)],ident(IU_length)],exp:ident(length)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:ident(crq),ident(cooked)],ident(IU_data_ptr)],exp:record_acc[exp:record_acc[exp:record_ptr[exp:call[exp:ident(vio_iu),exp:ident(iue)],ident(srp)],ident(rsp)],ident(tag)]],stmt:if[exp:binary_logi[logiop(==),exp:ident(rc),exp:const:int(0)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:ident(crq),ident(cooked)],ident(status)],exp:const:int(0x99)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:ident(crq),ident(cooked)],ident(status)],exp:const:int(0x00)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(rc1),exp:call[exp:ident(h_send_crq),exp:record_ptr[exp:record_ptr[exp:ident(vport),ident(dma_dev)],ident(unit_address)],exp:array_acc[exp:record_acc[exp:ident(crq),ident(raw)],exp:const:int(0)],exp:array_acc[exp:record_acc[exp:ident(crq),ident(raw)],exp:const:int(1)]]],stmt:if[exp:ident(rc1),stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(%ld sending response\n),exp:ident(rc1)],stmt:return:exp:ident(rc1)],stmt:exprstmt(none)],stmt:return:exp:ident(rc)]],define(N/H),def[fname(send_rsp),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(iue),fulltype[typec(N/H)]],param[reg(),name(sc),fulltype[typec(N/H)]],param[reg(),name(status),fulltype[ctype[btype[itype[sgn(unsigned),base(char2)]]]]],param[reg(),name(asc),fulltype[ctype[btype[itype[sgn(unsigned),base(char2)]]]]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:if[exp:binary_logi[logiop(&&),exp:call[exp:ident(test_bit),exp:ident(V_LINKED),exp:&ref:exp:record_ptr[exp:ident(iue),ident(flags)]],exp:binary_logi[logiop(==),exp:ident(status),exp:ident(NO_SENSE)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(status),exp:const:int(0x10)],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(memset),exp:ident(iu),exp:const:int(0),exp:sizeoftype:fulltype[typec(N/H)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(opcode)],exp:ident(SRP_RSP)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(req_lim_delta)],exp:const:int(1)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(tag)],exp:ident(tag)],stmt:if[exp:call[exp:ident(test_bit),exp:ident(V_DIOVER),exp:&ref:exp:record_ptr[exp:ident(iue),ident(flags)]],stmt:exprstmt:exp:assign[op_assi(|=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(flags)],exp:ident(SRP_RSP_FLAG_DIOVER)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(data_in_res_cnt)],exp:const:int(0)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(data_out_res_cnt)],exp:const:int(0)],stmt:exprstmt:exp:assign[op_assi(&=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(flags)],exp:~:exp:ident(SRP_RSP_FLAG_RSPVALID)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(resp_data_len)],exp:const:int(0)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(status)],exp:ident(status)],stmt:if[exp:ident(status),stmt:comp{}[stmt:decl(N/H),stmt:if[exp:ident(sc),stmt:comp{}[stmt:exprstmt:exp:assign[op_assi(|=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(flags)],exp:ident(SRP_RSP_FLAG_SNSVALID)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(sense_data_len)],exp:ident(SCSI_SENSE_BUFFERSIZE)],stmt:exprstmt:exp:call[exp:ident(memcpy),exp:ident(sense),exp:record_ptr[exp:ident(sc),ident(sense_buffer)],exp:ident(SCSI_SENSE_BUFFERSIZE)]],stmt:comp{}[stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(status)],exp:ident(SAM_STAT_CHECK_CONDITION)],stmt:exprstmt:exp:assign[op_assi(|=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(flags)],exp:ident(SRP_RSP_FLAG_SNSVALID)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(sense_data_len)],exp:ident(SRP_RSP_SENSE_DATA_LEN)],stmt:exprstmt:exp:assign[simple_assi(=),exp:array_acc[exp:ident(sense),exp:const:int(0)],exp:binary_arith[aop(|),exp:binary_arith[aop(<<),exp:const:int(0x1),exp:const:int(7)],exp:const:int(0x70)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:array_acc[exp:ident(sense),exp:const:int(2)],exp:ident(status)],stmt:exprstmt:exp:assign[simple_assi(=),exp:array_acc[exp:ident(sense),exp:const:int(7)],exp:const:int(0xa)],stmt:exprstmt:exp:assign[simple_assi(=),exp:array_acc[exp:ident(sense),exp:const:int(12)],exp:ident(asc)]]]],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(send_iu),exp:ident(iue),exp:binary_arith[aop(+),exp:sizeof:exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],exp:ident(SRP_RSP_SENSE_DATA_LEN)],exp:ident(VIOSRP_SRP_FORMAT)],stmt:return:exp:const:int(0)]],def[fname(handle_cmd_queue),funtype[fulltype[ctype[btype(void)]],param[reg(),name(target),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),statem(N/H),stmt:macroit:list_for_each_entry[stmt:comp{}[stmt:if[exp:!:exp:call[exp:ident(test_and_set_bit),exp:ident(V_FLYING),exp:&ref:exp:record_ptr[exp:ident(iue),ident(flags)]],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:&ref:exp:record_ptr[exp:ident(target),ident(lock)],exp:ident(flags)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(cmd),exp:record_ptr[exp:record_ptr[exp:ident(iue),ident(sbuf)],ident(buf)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(srp_cmd_queue),exp:ident(shost),exp:ident(cmd),exp:ident(iue),exp:cast[fulltype[ctype[btype[itype[sgn(unsigned),base(long)]]]],exp:ident(rport)],exp:const:int(0)]],stmt:if[exp:ident(err),stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(cannot queue cmd %p %d\n),exp:ident(cmd),exp:ident(err)],stmt:exprstmt:exp:call[exp:ident(srp_iu_put),exp:ident(iue)]],stmt:exprstmt(none)],stmt:goto(retry)],stmt:exprstmt(none)]]],stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:&ref:exp:record_ptr[exp:ident(target),ident(lock)],exp:ident(flags)]]],def[fname(ibmvstgt_rdma),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(sc),fulltype[typec(N/H)]],param[reg(),name(sg),fulltype[typec(N/H)]],param[reg(),name(nsg),fulltype[ctype[btype[itype[sgn(signed),base(int)]]]]],param[reg(),name(md),fulltype[typec(N/H)]],param[reg(),name(nmd),fulltype[ctype[btype[itype[sgn(signed),base(int)]]]]],param[reg(),name(dir),fulltype[typec(N/H)]],param[reg(),name(rest),fulltype[ctype[btype[itype[sgn(unsigned),base(int)]]]]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(sidx),exp:assign[simple_assi(=),exp:ident(soff),exp:const:int(0)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(token),exp:call[exp:ident(sg_dma_address),exp:binary_arith[aop(+),exp:ident(sg),exp:ident(sidx)]]],stmt:for[exp:assign[simple_assi(=),exp:ident(i),exp:const:int(0)],exp:binary_logi[logiop(&&),exp:binary_logi[logiop(<),exp:ident(i),exp:ident(nmd)],exp:ident(rest)],exp:postfix:++:exp:ident(i),stmt:comp{}[stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(mlen),exp:call[exp:ident(min),exp:ident(rest),exp:record_acc[exp:array_acc[exp:ident(md),exp:ident(i)],ident(len)]]],stmt:for[exp:assign[simple_assi(=),exp:ident(mdone),exp:const:int(0)],exp:ident(mlen),expr(empty),stmt:comp{}[stmt:decl(N/H),stmt:if[exp:binary_logi[logiop(==),exp:ident(dir),exp:ident(DMA_TO_DEVICE)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(h_copy_rdma),exp:ident(slen),exp:record_ptr[exp:ident(vport),ident(riobn)],exp:binary_arith[aop(+),exp:record_acc[exp:array_acc[exp:ident(md),exp:ident(i)],ident(va)],exp:ident(mdone)],exp:record_ptr[exp:ident(vport),ident(liobn)],exp:binary_arith[aop(+),exp:ident(token),exp:ident(soff)]]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(h_copy_rdma),exp:ident(slen),exp:record_ptr[exp:ident(vport),ident(liobn)],exp:binary_arith[aop(+),exp:ident(token),exp:ident(soff)],exp:record_ptr[exp:ident(vport),ident(riobn)],exp:binary_arith[aop(+),exp:record_acc[exp:array_acc[exp:ident(md),exp:ident(i)],ident(va)],exp:ident(mdone)]]]],stmt:if[exp:binary_logi[logiop(!=),exp:ident(err),exp:ident(H_SUCCESS)],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(rdma error %d %d %ld\n),exp:ident(dir),exp:ident(slen),exp:ident(err)],stmt:return:exp:-:exp:ident(EIO)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[op_assi(-=),exp:ident(mlen),exp:ident(slen)],stmt:exprstmt:exp:assign[op_assi(+=),exp:ident(mdone),exp:ident(slen)],stmt:exprstmt:exp:assign[op_assi(+=),exp:ident(soff),exp:ident(slen)],stmt:exprstmt:exp:assign[op_assi(+=),exp:ident(done),exp:ident(slen)],stmt:if[exp:binary_logi[logiop(==),exp:ident(soff),exp:call[exp:ident(sg_dma_len),exp:binary_arith[aop(+),exp:ident(sg),exp:ident(sidx)]]],stmt:comp{}[stmt:exprstmt:exp:postfix:++:exp:ident(sidx),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(soff),exp:const:int(0)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(token),exp:call[exp:ident(sg_dma_address),exp:binary_arith[aop(+),exp:ident(sg),exp:ident(sidx)]]],stmt:if[exp:binary_logi[logiop(>),exp:ident(sidx),exp:ident(nsg)],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(out of sg %p %d %d\n),exp:ident(iue),exp:ident(sidx),exp:ident(nsg)],stmt:return:exp:-:exp:ident(EIO)],stmt:exprstmt(none)]],stmt:exprstmt(none)]]],stmt:exprstmt(none),stmt:exprstmt:exp:assign[op_assi(-=),exp:ident(rest),exp:ident(mlen)]]],stmt:return:exp:const:int(0)]],def[fname(ibmvstgt_cmd_done),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(sc),fulltype[typec(N/H)]],param[reg(),name(done),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(%p %p %x %u\n),exp:ident(iue),exp:ident(target),exp:array_acc[exp:record_acc[exp:record_acc[exp:record_ptr[exp:call[exp:ident(vio_iu),exp:ident(iue)],ident(srp)],ident(cmd)],ident(cdb)],exp:const:int(0)],exp:record_ptr[exp:ident(cmd),ident(usg_sg)]],stmt:if[exp:record_ptr[exp:ident(sc),ident(use_sg)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(srp_transfer_data),exp:ident(sc),exp:&ref:exp:record_acc[exp:record_ptr[exp:call[exp:ident(vio_iu),exp:ident(iue)],ident(srp)],ident(cmd)],exp:ident(ibmvstgt_rdma),exp:const:int(1),exp:const:int(1)]],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(spin_lock_irqsave),exp:&ref:exp:record_ptr[exp:ident(target),ident(lock)],exp:ident(flags)],stmt:exprstmt:exp:call[exp:ident(list_del),exp:&ref:exp:record_ptr[exp:ident(iue),ident(ilist)]],stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:&ref:exp:record_ptr[exp:ident(target),ident(lock)],exp:ident(flags)],stmt:if[exp:binary_logi[logiop(||),exp:ident(err),exp:binary_logi[logiop(!=),exp:record_ptr[exp:ident(sc),ident(result)],exp:ident(SAM_STAT_GOOD)]],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(operation failed %p %d %x\n),exp:ident(iue),exp:record_ptr[exp:ident(sc),ident(result)],exp:array_acc[exp:record_acc[exp:record_acc[exp:record_ptr[exp:call[exp:ident(vio_iu),exp:ident(iue)],ident(srp)],ident(cmd)],ident(cdb)],exp:const:int(0)]],stmt:exprstmt:exp:call[exp:ident(send_rsp),exp:ident(iue),exp:ident(sc),exp:ident(HARDWARE_ERROR),exp:const:int(0x00)]],stmt:exprstmt:exp:call[exp:ident(send_rsp),exp:ident(iue),exp:ident(sc),exp:ident(NO_SENSE),exp:const:int(0x00)]],stmt:exprstmt:exp:call[exp:ident(done),exp:ident(sc)],stmt:exprstmt:exp:call[exp:ident(srp_iu_put),exp:ident(iue)],stmt:return:exp:const:int(0)]],def[fname(send_adapter_info),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(iue),fulltype[typec(N/H)]],param[reg(),name(remote_buffer),fulltype[typec(N/H)]],param[reg(),name(length),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(info),exp:call[exp:ident(dma_alloc_coherent),exp:record_ptr[exp:ident(target),ident(dev)],exp:sizeof:exp:*ref:exp:ident(info),exp:&ref:exp:ident(data_token),exp:ident(GFP_KERNEL)]],stmt:if[exp:!:exp:ident(info),stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(bad dma_alloc_coherent %p\n),exp:ident(target)],stmt:return:exp:const:int(1)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(h_copy_rdma),exp:sizeof:exp:*ref:exp:ident(info),exp:record_ptr[exp:ident(vport),ident(riobn)],exp:ident(remote_buffer),exp:record_ptr[exp:ident(vport),ident(liobn)],exp:ident(data_token)]],stmt:if[exp:binary_logi[logiop(==),exp:ident(err),exp:ident(H_SUCCESS)],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(Client connect: %s (%d)\n),exp:record_ptr[exp:ident(info),ident(partition_name)],exp:record_ptr[exp:ident(info),ident(partition_number)]]],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(memset),exp:ident(info),exp:const:int(0),exp:sizeof:exp:*ref:exp:ident(info)],stmt:exprstmt:exp:call[exp:ident(strcpy),exp:record_ptr[exp:ident(info),ident(srp_version)],exp:const:string(16.a)],stmt:exprstmt:exp:call[exp:ident(strncpy),exp:record_ptr[exp:ident(info),ident(partition_name)],exp:ident(partition_name),exp:sizeof:exp:record_ptr[exp:ident(info),ident(partition_name)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(info),ident(partition_number)],exp:ident(partition_number)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(info),ident(mad_version)],exp:const:int(1)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(info),ident(os_type)],exp:const:int(2)],stmt:exprstmt:exp:assign[simple_assi(=),exp:array_acc[exp:record_ptr[exp:ident(info),ident(port_max_txu)],exp:const:int(0)],exp:binary_arith[aop(<<),exp:record_ptr[exp:record_ptr[exp:ident(shost),ident(hostt)],ident(max_sectors)],exp:const:int(9)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(h_copy_rdma),exp:sizeof:exp:*ref:exp:ident(info),exp:record_ptr[exp:ident(vport),ident(liobn)],exp:ident(data_token),exp:record_ptr[exp:ident(vport),ident(riobn)],exp:ident(remote_buffer)]],stmt:exprstmt:exp:call[exp:ident(dma_free_coherent),exp:record_ptr[exp:ident(target),ident(dev)],exp:sizeof:exp:*ref:exp:ident(info),exp:ident(info),exp:ident(data_token)],stmt:if[exp:binary_logi[logiop(!=),exp:ident(err),exp:ident(H_SUCCESS)],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(Error sending adapter info %d\n),exp:ident(err)],stmt:return:exp:const:int(1)],stmt:exprstmt(none)],stmt:return:exp:const:int(0)]],def[fname(process_login),funtype[fulltype[ctype[btype(void)]],param[reg(),name(iue),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(memset),exp:&ref:exp:ident(ids),exp:const:int(0),exp:sizeof:exp:ident(ids)],stmt:exprstmt:exp:call[exp:ident(sprintf),exp:record_acc[exp:ident(ids),ident(port_id)],exp:const:string(%x),exp:record_ptr[exp:record_ptr[exp:ident(vport),ident(dma_dev)],ident(unit_address)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:ident(ids),ident(roles)],exp:ident(SRP_RPORT_ROLE_INITIATOR)],stmt:if[exp:!:exp:record_ptr[exp:ident(vport),ident(rport)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(vport),ident(rport)],exp:call[exp:ident(srp_rport_add),exp:ident(shost),exp:&ref:exp:ident(ids)]],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(memset),exp:ident(iu),exp:const:int(0),exp:sizeoftype:fulltype[typec(N/H)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(rsp),ident(opcode)],exp:ident(SRP_LOGIN_RSP)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(rsp),ident(req_lim_delta)],exp:ident(INITIAL_SRP_LIMIT)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(rsp),ident(tag)],exp:ident(tag)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(rsp),ident(max_it_iu_len)],exp:sizeoftype:fulltype[typec(N/H)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(rsp),ident(max_ti_iu_len)],exp:sizeoftype:fulltype[typec(N/H)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(rsp),ident(buf_fmt)],exp:binary_arith[aop(|),exp:ident(SRP_BUF_FORMAT_DIRECT),exp:ident(SRP_BUF_FORMAT_INDIRECT)]],stmt:exprstmt:exp:call[exp:ident(send_iu),exp:ident(iue),exp:sizeof:exp:*ref:exp:ident(rsp),exp:ident(VIOSRP_SRP_FORMAT)]]],def[fname(queue_cmd),funtype[fulltype[ctype[btype(void)]],param[reg(),name(iue),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(spin_lock_irqsave),exp:&ref:exp:record_ptr[exp:ident(target),ident(lock)],exp:ident(flags)],stmt:exprstmt:exp:call[exp:ident(list_add_tail),exp:&ref:exp:record_ptr[exp:ident(iue),ident(ilist)],exp:&ref:exp:record_ptr[exp:ident(target),ident(cmd_queue)]],stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:&ref:exp:record_ptr[exp:ident(target),ident(lock)],exp:ident(flags)]]],def[fname(process_tsk_mgmt),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(iue),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(%p %u\n),exp:ident(iue),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(tsk_mgmt)],ident(tsk_mgmt_func)]],stmt:switch[exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(tsk_mgmt)],ident(tsk_mgmt_func)],stmt:comp{}[statem(N/H),stmt:jump(break),statem(N/H),stmt:jump(break),statem(N/H),stmt:jump(break),statem(N/H),stmt:jump(break),statem(N/H),stmt:jump(break),statem(N/H)]],stmt:if[exp:ident(fn),stmt:exprstmt:exp:call[exp:ident(scsi_tgt_tsk_mgmt_request),exp:record_ptr[exp:record_ptr[exp:ident(iue),ident(target)],ident(shost)],exp:cast[fulltype[ctype[btype[itype[sgn(unsigned),base(long)]]]],exp:record_ptr[exp:record_ptr[exp:ident(iue),ident(target)],ident(shost)]],exp:ident(fn),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(tsk_mgmt)],ident(task_tag)],exp:cast[fulltype[typec(N/H)],exp:&ref:exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(tsk_mgmt)],ident(lun)]],exp:ident(iue)],stmt:exprstmt:exp:call[exp:ident(send_rsp),exp:ident(iue),exp:ident(NULL),exp:ident(ILLEGAL_REQUEST),exp:const:int(0x20)]],stmt:return:exp:!:exp:ident(fn)]],def[fname(process_mad_iu),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(iue),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:switch[exp:record_acc[exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(mad)],ident(empty_iu)],ident(common)],ident(type)],stmt:comp{}[statem(N/H),stmt:jump(break),statem(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(mad)],ident(error_log)],ident(common)],ident(status)],exp:const:int(1)],stmt:exprstmt:exp:call[exp:ident(send_iu),exp:ident(iue),exp:sizeof:exp:record_acc[exp:record_ptr[exp:ident(iu),ident(mad)],ident(error_log)],exp:ident(VIOSRP_MAD_FORMAT)],stmt:jump(break),statem(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_ptr[exp:ident(info),ident(common)],ident(status)],exp:call[exp:ident(send_adapter_info),exp:ident(iue),exp:record_ptr[exp:ident(info),ident(buffer)],exp:record_acc[exp:record_ptr[exp:ident(info),ident(common)],ident(length)]]],stmt:exprstmt:exp:call[exp:ident(send_iu),exp:ident(iue),exp:sizeof:exp:*ref:exp:ident(info),exp:ident(VIOSRP_MAD_FORMAT)],stmt:jump(break),statem(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_ptr[exp:ident(conf),ident(common)],ident(status)],exp:const:int(1)],stmt:exprstmt:exp:call[exp:ident(send_iu),exp:ident(iue),exp:sizeof:exp:*ref:exp:ident(conf),exp:ident(VIOSRP_MAD_FORMAT)],stmt:jump(break),statem(N/H)]],stmt:return:exp:const:int(1)]],def[fname(process_srp_iu),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(iue),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:switch[exp:ident(opcode),stmt:comp{}[statem(N/H),stmt:jump(break),statem(N/H),stmt:jump(break),statem(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(done),exp:const:int(0)],stmt:jump(break),statem(N/H),stmt:jump(break),statem(N/H)]],stmt:return:exp:ident(done)]],def[fname(process_iu),funtype[fulltype[ctype[btype(void)]],param[reg(),name(crq),fulltype[typec(N/H)]],param[reg(),name(target),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(iue),exp:call[exp:ident(srp_iu_get),exp:ident(target)]],stmt:if[exp:!:exp:ident(iue),stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(Error getting IU from pool, %p\n),exp:ident(target)],stmt:jump(return)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(iue),ident(remote_token)],exp:record_ptr[exp:ident(crq),ident(IU_data_ptr)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(h_copy_rdma),exp:record_ptr[exp:ident(crq),ident(IU_length)],exp:record_ptr[exp:ident(vport),ident(riobn)],exp:record_ptr[exp:ident(iue),ident(remote_token)],exp:record_ptr[exp:ident(vport),ident(liobn)],exp:record_ptr[exp:record_ptr[exp:ident(iue),ident(sbuf)],ident(dma)]]],stmt:if[exp:binary_logi[logiop(!=),exp:ident(err),exp:ident(H_SUCCESS)],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(%ld transferring data error %p\n),exp:ident(err),exp:ident(iue)],stmt:goto(out)],stmt:exprstmt(none)],stmt:if[exp:binary_logi[logiop(==),exp:record_ptr[exp:ident(crq),ident(format)],exp:ident(VIOSRP_MAD_FORMAT)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(done),exp:call[exp:ident(process_mad_iu),exp:ident(iue)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(done),exp:call[exp:ident(process_srp_iu),exp:ident(iue)]]],statem(N/H)]],def[fname(ibmvstgt_interrupt),funtype[fulltype[typec(N/H)],param[reg(),name(irq),fulltype[ctype[btype[itype[sgn(signed),base(int)]]]]],param[reg(),name(data),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(vio_disable_interrupts),exp:record_ptr[exp:ident(vport),ident(dma_dev)]],stmt:exprstmt:exp:call[exp:ident(queue_work),exp:ident(vtgtd),exp:&ref:exp:record_ptr[exp:ident(vport),ident(crq_work)]],stmt:return:exp:ident(IRQ_HANDLED)]],def[fname(crq_queue_create),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(queue),fulltype[typec(N/H)]],param[reg(),name(target),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(queue),ident(msgs)],exp:cast[fulltype[typec(N/H)],exp:call[exp:ident(get_zeroed_page),exp:ident(GFP_KERNEL)]]],stmt:if[exp:!:exp:record_ptr[exp:ident(queue),ident(msgs)],stmt:goto(malloc_failed),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(queue),ident(size)],exp:binary_arith[aop(/),exp:ident(PAGE_SIZE),exp:sizeof:exp:*ref:exp:record_ptr[exp:ident(queue),ident(msgs)]]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(queue),ident(msg_token)],exp:call[exp:ident(dma_map_single),exp:record_ptr[exp:ident(target),ident(dev)],exp:record_ptr[exp:ident(queue),ident(msgs)],exp:binary_arith[aop(*),exp:record_ptr[exp:ident(queue),ident(size)],exp:sizeof:exp:*ref:exp:record_ptr[exp:ident(queue),ident(msgs)]],exp:ident(DMA_BIDIRECTIONAL)]],stmt:if[exp:call[exp:ident(dma_mapping_error),exp:record_ptr[exp:ident(queue),ident(msg_token)]],stmt:goto(map_failed),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(h_reg_crq),exp:record_ptr[exp:record_ptr[exp:ident(vport),ident(dma_dev)],ident(unit_address)],exp:record_ptr[exp:ident(queue),ident(msg_token)],exp:ident(PAGE_SIZE)]],stmt:if[exp:binary_logi[logiop(==),exp:ident(err),exp:ident(H_RESOURCE)],stmt:comp{}[stmt:dowhile[stmt:comp{}[stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(h_free_crq),exp:record_ptr[exp:record_ptr[exp:ident(vport),ident(dma_dev)],ident(unit_address)]]]],exp:binary_logi[logiop(||),exp:binary_logi[logiop(==),exp:ident(err),exp:ident(H_BUSY)],exp:call[exp:ident(H_IS_LONG_BUSY),exp:ident(err)]]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(h_reg_crq),exp:record_ptr[exp:record_ptr[exp:ident(vport),ident(dma_dev)],ident(unit_address)],exp:record_ptr[exp:ident(queue),ident(msg_token)],exp:ident(PAGE_SIZE)]]],stmt:exprstmt(none)],stmt:if[exp:binary_logi[logiop(&&),exp:binary_logi[logiop(!=),exp:ident(err),exp:ident(H_SUCCESS)],exp:binary_logi[logiop(!=),exp:ident(err),exp:const:int(2)]],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(Error 0x%x opening virtual adapter\n),exp:ident(err)],stmt:goto(reg_crq_failed)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(request_irq),exp:record_ptr[exp:record_ptr[exp:ident(vport),ident(dma_dev)],ident(irq)],exp:&ref:exp:ident(ibmvstgt_interrupt),exp:ident(IRQF_DISABLED),exp:const:string(ibmvstgt),exp:ident(target)]],stmt:if[exp:ident(err),stmt:goto(req_irq_failed),stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(vio_enable_interrupts),exp:record_ptr[exp:ident(vport),ident(dma_dev)]],stmt:exprstmt:exp:call[exp:ident(h_send_crq),exp:record_ptr[exp:record_ptr[exp:ident(vport),ident(dma_dev)],ident(unit_address)],exp:const:int(0xC001000000000000),exp:const:int(0)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(queue),ident(cur)],exp:const:int(0)],stmt:exprstmt:exp:call[exp:ident(spin_lock_init),exp:&ref:exp:record_ptr[exp:ident(queue),ident(lock)]],stmt:return:exp:const:int(0),statem(N/H),statem(N/H),statem(N/H),statem(N/H)]],def[fname(crq_queue_destroy),funtype[fulltype[ctype[btype(void)]],param[reg(),name(target),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(free_irq),exp:record_ptr[exp:record_ptr[exp:ident(vport),ident(dma_dev)],ident(irq)],exp:ident(target)],stmt:dowhile[stmt:comp{}[stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(h_free_crq),exp:record_ptr[exp:record_ptr[exp:ident(vport),ident(dma_dev)],ident(unit_address)]]]],exp:binary_logi[logiop(||),exp:binary_logi[logiop(==),exp:ident(err),exp:ident(H_BUSY)],exp:call[exp:ident(H_IS_LONG_BUSY),exp:ident(err)]]],stmt:exprstmt:exp:call[exp:ident(dma_unmap_single),exp:record_ptr[exp:ident(target),ident(dev)],exp:record_ptr[exp:ident(queue),ident(msg_token)],exp:binary_arith[aop(*),exp:record_ptr[exp:ident(queue),ident(size)],exp:sizeof:exp:*ref:exp:record_ptr[exp:ident(queue),ident(msgs)]],exp:ident(DMA_BIDIRECTIONAL)],stmt:exprstmt:exp:call[exp:ident(free_page),exp:cast[fulltype[ctype[btype[itype[sgn(unsigned),base(long)]]]],exp:record_ptr[exp:ident(queue),ident(msgs)]]]]],def[fname(process_crq),funtype[fulltype[ctype[btype(void)]],param[reg(),name(crq),fulltype[typec(N/H)]],param[reg(),name(target),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(%x %x\n),exp:record_ptr[exp:ident(crq),ident(valid)],exp:record_ptr[exp:ident(crq),ident(format)]],stmt:switch[exp:record_ptr[exp:ident(crq),ident(valid)],stmt:comp{}[statem(N/H),stmt:jump(break),statem(N/H),statem(N/H),stmt:jump(break),statem(N/H)]]]],def[fname(next_crq),funtype[fulltype[typec(N/H)],param[reg(),name(queue),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(spin_lock_irqsave),exp:&ref:exp:record_ptr[exp:ident(queue),ident(lock)],exp:ident(flags)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(crq),exp:&ref:exp:array_acc[exp:record_ptr[exp:ident(queue),ident(msgs)],exp:record_ptr[exp:ident(queue),ident(cur)]]],stmt:if[exp:binary_arith[aop(&),exp:record_ptr[exp:ident(crq),ident(valid)],exp:const:int(0x80)],stmt:comp{}[stmt:if[exp:binary_logi[logiop(==),exp:infix:++:exp:record_ptr[exp:ident(queue),ident(cur)],exp:record_ptr[exp:ident(queue),ident(size)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(queue),ident(cur)],exp:const:int(0)],stmt:exprstmt(none)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(crq),exp:ident(NULL)]],stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:&ref:exp:record_ptr[exp:ident(queue),ident(lock)],exp:ident(flags)],stmt:return:exp:ident(crq)]],def[fname(handle_crq),funtype[fulltype[ctype[btype(void)]],param[reg(),name(work),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:while[exp:!:exp:ident(done),stmt:comp{}[stmt:while[exp:binary_logi[logiop(!=),exp:assign[simple_assi(=),exp:ident(crq),exp:call[exp:ident(next_crq),exp:&ref:exp:record_ptr[exp:ident(vport),ident(crq_queue)]]],exp:ident(NULL)],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(process_crq),exp:ident(crq),exp:ident(target)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(crq),ident(valid)],exp:const:int(0x00)]]],stmt:exprstmt:exp:call[exp:ident(vio_enable_interrupts),exp:record_ptr[exp:ident(vport),ident(dma_dev)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(crq),exp:call[exp:ident(next_crq),exp:&ref:exp:record_ptr[exp:ident(vport),ident(crq_queue)]]],stmt:if[exp:ident(crq),stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(vio_disable_interrupts),exp:record_ptr[exp:ident(vport),ident(dma_dev)]],stmt:exprstmt:exp:call[exp:ident(process_crq),exp:ident(crq),exp:ident(target)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(crq),ident(valid)],exp:const:int(0x00)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(done),exp:const:int(1)]]]],stmt:exprstmt:exp:call[exp:ident(handle_cmd_queue),exp:ident(target)]]],def[fname(ibmvstgt_eh_abort_handler),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(sc),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(%p %p %x\n),exp:ident(iue),exp:ident(target),exp:array_acc[exp:record_acc[exp:record_acc[exp:record_ptr[exp:call[exp:ident(vio_iu),exp:ident(iue)],ident(srp)],ident(cmd)],ident(cdb)],exp:const:int(0)]],stmt:exprstmt:exp:call[exp:ident(spin_lock_irqsave),exp:&ref:exp:record_ptr[exp:ident(target),ident(lock)],exp:ident(flags)],stmt:exprstmt:exp:call[exp:ident(list_del),exp:&ref:exp:record_ptr[exp:ident(iue),ident(ilist)]],stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:&ref:exp:record_ptr[exp:ident(target),ident(lock)],exp:ident(flags)],stmt:exprstmt:exp:call[exp:ident(srp_iu_put),exp:ident(iue)],stmt:return:exp:const:int(0)]],def[fname(ibmvstgt_tsk_mgmt_response),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(shost),fulltype[typec(N/H)]],param[reg(),name(itn_id),fulltype[typec(N/H)]],param[reg(),name(mid),fulltype[typec(N/H)]],param[reg(),name(result),fulltype[ctype[btype[itype[sgn(signed),base(int)]]]]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(%p %d\n),exp:ident(iue),exp:ident(result)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(status),exp:ident(NO_SENSE)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(asc),exp:const:int(0)],stmt:switch[exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(tsk_mgmt)],ident(tsk_mgmt_func)],stmt:comp{}[statem(N/H),stmt:if[exp:ident(result),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(status),exp:ident(ABORTED_COMMAND)],stmt:exprstmt(none)],stmt:jump(break),statem(N/H)]],stmt:exprstmt:exp:call[exp:ident(send_rsp),exp:ident(iue),exp:ident(NULL),exp:ident(status),exp:ident(asc)],stmt:exprstmt:exp:call[exp:ident(srp_iu_put),exp:ident(iue)],stmt:return:exp:const:int(0)]],def[fname(ibmvstgt_it_nexus_response),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(shost),fulltype[typec(N/H)]],param[reg(),name(itn_id),fulltype[typec(N/H)]],param[reg(),name(result),fulltype[ctype[btype[itype[sgn(signed),base(int)]]]]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:if[exp:ident(result),stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(%p %d\n),exp:ident(shost),exp:ident(result)],stmt:exprstmt:exp:call[exp:ident(srp_rport_del),exp:record_ptr[exp:ident(vport),ident(rport)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(vport),ident(rport)],exp:ident(NULL)]],stmt:exprstmt(none)],stmt:return:exp:const:int(0)]],def[fname(system_id_show),funtype[fulltype[typec(N/H)],param[reg(),name(cdev),fulltype[typec(N/H)]],param[reg(),name(buf),fulltype[typec(N/H)]]],stmt:comp{}[stmt:return:exp:call[exp:ident(snprintf),exp:ident(buf),exp:ident(PAGE_SIZE),exp:const:string(%s\n),exp:ident(system_id)]]],def[fname(partition_number_show),funtype[fulltype[typec(N/H)],param[reg(),name(cdev),fulltype[typec(N/H)]],param[reg(),name(buf),fulltype[typec(N/H)]]],stmt:comp{}[stmt:return:exp:call[exp:ident(snprintf),exp:ident(buf),exp:ident(PAGE_SIZE),exp:const:string(%x\n),exp:ident(partition_number)]]],def[fname(unit_address_show),funtype[fulltype[typec(N/H)],param[reg(),name(cdev),fulltype[typec(N/H)]],param[reg(),name(buf),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:return:exp:call[exp:ident(snprintf),exp:ident(buf),exp:ident(PAGE_SIZE),exp:const:string(%x\n),exp:record_ptr[exp:record_ptr[exp:ident(vport),ident(dma_dev)],ident(unit_address)]]]],decl(N/H),decl(N/H),decl(N/H),decl(N/H),decl(N/H),def[fname(ibmvstgt_probe),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(dev),fulltype[typec(N/H)]],param[reg(),name(id),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(vport),exp:call[exp:ident(kzalloc),exp:sizeoftype:fulltype[typec(N/H)],exp:ident(GFP_KERNEL)]],stmt:if[exp:!:exp:ident(vport),stmt:return:exp:ident(err),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(shost),exp:call[exp:ident(scsi_host_alloc),exp:&ref:exp:ident(ibmvstgt_sht),exp:sizeoftype:fulltype[typec(N/H)]]],stmt:if[exp:!:exp:ident(shost),stmt:goto(free_vport),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(shost),ident(transportt)],exp:ident(ibmvstgt_transport_template)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(scsi_tgt_alloc_queue),exp:ident(shost)]],stmt:if[exp:ident(err),stmt:goto(put_host),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(target),exp:call[exp:ident(host_to_srp_target),exp:ident(shost)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(target),ident(shost)],exp:ident(shost)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(vport),ident(dma_dev)],exp:ident(dev)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(target),ident(ldata)],exp:ident(vport)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(vport),ident(target)],exp:ident(target)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(srp_target_alloc),exp:ident(target),exp:&ref:exp:record_ptr[exp:ident(dev),ident(dev)],exp:ident(INITIAL_SRP_LIMIT),exp:ident(SRP_MAX_IU_LEN)]],stmt:if[exp:ident(err),stmt:goto(put_host),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(dma),exp:cast[fulltype[typec(N/H)],exp:call[exp:ident(vio_get_attribute),exp:ident(dev),exp:const:string(ibm,my-dma-window),exp:&ref:exp:ident(dma_size)]]],stmt:if[exp:binary_logi[logiop(||),exp:!:exp:ident(dma),exp:binary_logi[logiop(!=),exp:ident(dma_size),exp:const:int(40)]],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(Couldn't get window property %d\n),exp:ident(dma_size)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:-:exp:ident(EIO)],stmt:goto(free_srp_target)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(vport),ident(liobn)],exp:array_acc[exp:ident(dma),exp:const:int(0)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(vport),ident(riobn)],exp:array_acc[exp:ident(dma),exp:const:int(5)]],stmt:exprstmt:exp:call[exp:ident(INIT_WORK),exp:&ref:exp:record_ptr[exp:ident(vport),ident(crq_work)],exp:ident(handle_crq)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(crq_queue_create),exp:&ref:exp:record_ptr[exp:ident(vport),ident(crq_queue)],exp:ident(target)]],stmt:if[exp:ident(err),stmt:goto(free_srp_target),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(scsi_add_host),exp:ident(shost),exp:record_ptr[exp:ident(target),ident(dev)]]],stmt:if[exp:ident(err),stmt:goto(destroy_queue),stmt:exprstmt(none)],stmt:return:exp:const:int(0),statem(N/H),statem(N/H),statem(N/H),statem(N/H),stmt:return:exp:ident(err)]],def[fname(ibmvstgt_remove),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(dev),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(crq_queue_destroy),exp:ident(target)],stmt:exprstmt:exp:call[exp:ident(srp_remove_host),exp:ident(shost)],stmt:exprstmt:exp:call[exp:ident(scsi_remove_host),exp:ident(shost)],stmt:exprstmt:exp:call[exp:ident(scsi_tgt_free_queue),exp:ident(shost)],stmt:exprstmt:exp:call[exp:ident(srp_target_free),exp:ident(target)],stmt:exprstmt:exp:call[exp:ident(kfree),exp:ident(vport)],stmt:exprstmt:exp:call[exp:ident(scsi_host_put),exp:ident(shost)],stmt:return:exp:const:int(0)]],NCP(N/H),mtop(N/H),decl(N/H),def[fname(get_system_info),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(),fulltype[ctype[btype(void)]]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(rootdn),exp:call[exp:ident(of_find_node_by_path),exp:const:string(/)]],stmt:if[exp:!:exp:ident(rootdn),stmt:return:exp:-:exp:ident(ENOENT),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(model),exp:call[exp:ident(of_get_property),exp:ident(rootdn),exp:const:string(model),exp:ident(NULL)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(id),exp:call[exp:ident(of_get_property),exp:ident(rootdn),exp:const:string(system-id),exp:ident(NULL)]],stmt:if[exp:binary_logi[logiop(&&),exp:ident(model),exp:ident(id)],stmt:exprstmt:exp:call[exp:ident(snprintf),exp:ident(system_id),exp:sizeof:exp:ident(system_id),exp:const:string(%s-%s),exp:ident(model),exp:ident(id)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(name),exp:call[exp:ident(of_get_property),exp:ident(rootdn),exp:const:string(ibm,partition-name),exp:ident(NULL)]],stmt:if[exp:ident(name),stmt:exprstmt:exp:call[exp:ident(strncpy),exp:ident(partition_name),exp:ident(name),exp:sizeof:exp:ident(partition_name)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(num),exp:call[exp:ident(of_get_property),exp:ident(rootdn),exp:const:string(ibm,partition-no),exp:ident(NULL)]],stmt:if[exp:ident(num),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(partition_number),exp:*ref:exp:ident(num)],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(of_node_put),exp:ident(rootdn)],stmt:return:exp:const:int(0)]],decl(N/H),def[fname(ibmvstgt_init),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(),fulltype[ctype[btype(void)]]]],stmt:comp{}[stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(printk),exp:const:string(IBM eServer i/pSeries Virtual SCSI Target Driver\n)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(ibmvstgt_transport_template),exp:call[exp:ident(srp_attach_transport),exp:&ref:exp:ident(ibmvstgt_transport_functions)]],stmt:if[exp:!:exp:ident(ibmvstgt_transport_template),stmt:return:exp:ident(err),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(vtgtd),exp:call[exp:ident(create_workqueue),exp:const:string(ibmvtgtd)]],stmt:if[exp:!:exp:ident(vtgtd),stmt:goto(release_transport),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(get_system_info)]],stmt:if[exp:ident(err),stmt:goto(destroy_wq),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(vio_register_driver),exp:&ref:exp:ident(ibmvstgt_driver)]],stmt:if[exp:ident(err),stmt:goto(destroy_wq),stmt:exprstmt(none)],stmt:return:exp:const:int(0),statem(N/H),statem(N/H),stmt:return:exp:ident(err)]],def[fname(ibmvstgt_exit),funtype[fulltype[ctype[btype(void)]],param[reg(),name(),fulltype[ctype[btype(void)]]]],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(printk),exp:const:string(Unregister IBM virtual SCSI driver\n)],stmt:exprstmt:exp:call[exp:ident(destroy_workqueue),exp:ident(vtgtd)],stmt:exprstmt:exp:call[exp:ident(vio_unregister_driver),exp:&ref:exp:ident(ibmvstgt_driver)],stmt:exprstmt:exp:call[exp:ident(srp_release_transport),exp:ident(ibmvstgt_transport_template)]]],mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H)] ==> prg2[includeN[inc_elem(linux),inc_elem(interrupt.h)],includeN[inc_elem(linux),inc_elem(module.h)],includeN[inc_elem(scsi),inc_elem(scsi.h)],includeN[inc_elem(scsi),inc_elem(scsi_host.h)],includeN[inc_elem(scsi),inc_elem(scsi_transport_srp.h)],includeN[inc_elem(scsi),inc_elem(scsi_tgt.h)],includeN[inc_elem(scsi),inc_elem(libsrp.h)],includeN[inc_elem(asm),inc_elem(hvcall.h)],includeN[inc_elem(asm),inc_elem(iommu.h)],includeN[inc_elem(asm),inc_elem(prom.h)],includeN[inc_elem(asm),inc_elem(vio.h)],includeL[inc_elem(ibmvscsi.h)],define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),decl(N/H),decl(N/H),decl(N/H),decl(N/H),decl(N/H),decl(N/H),def[fname(target_to_port),funtype[fulltype[typec(N/H)],param[reg(),name(target),fulltype[typec(N/H)]]],stmt:comp{}[stmt:return:exp:cast[fulltype[typec(N/H)],exp:record_ptr[exp:ident(target),ident(ldata)]]]],def[fname(vio_iu),funtype[fulltype[typec(N/H)],param[reg(),name(iue),fulltype[typec(N/H)]]],stmt:comp{}[stmt:return:exp:cast[fulltype[typec(N/H)],exp:record_ptr[exp:record_ptr[exp:ident(iue),ident(sbuf)],ident(buf)]]]],def[fname(send_iu),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(iue),fulltype[typec(N/H)]],param[reg(),name(length),fulltype[typec(N/H)]],param[reg(),name(format),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(rc),exp:call[exp:ident(h_copy_rdma),exp:ident(length),exp:record_ptr[exp:ident(vport),ident(liobn)],exp:record_ptr[exp:record_ptr[exp:ident(iue),ident(sbuf)],ident(dma)],exp:record_ptr[exp:ident(vport),ident(riobn)],exp:record_ptr[exp:ident(iue),ident(remote_token)]]],stmt:if[exp:ident(rc),stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(Error %ld transferring data\n),exp:ident(rc)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:ident(crq),ident(cooked)],ident(valid)],exp:const:int(0x80)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:ident(crq),ident(cooked)],ident(format)],exp:ident(format)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:ident(crq),ident(cooked)],ident(reserved)],exp:const:int(0x00)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:ident(crq),ident(cooked)],ident(timeout)],exp:const:int(0x00)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:ident(crq),ident(cooked)],ident(IU_length)],exp:ident(length)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:ident(crq),ident(cooked)],ident(IU_data_ptr)],exp:record_acc[exp:record_acc[exp:record_ptr[exp:call[exp:ident(vio_iu),exp:ident(iue)],ident(srp)],ident(rsp)],ident(tag)]],stmt:if[exp:binary_logi[logiop(==),exp:ident(rc),exp:const:int(0)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:ident(crq),ident(cooked)],ident(status)],exp:const:int(0x99)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:ident(crq),ident(cooked)],ident(status)],exp:const:int(0x00)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(rc1),exp:call[exp:ident(h_send_crq),exp:record_ptr[exp:record_ptr[exp:ident(vport),ident(dma_dev)],ident(unit_address)],exp:array_acc[exp:record_acc[exp:ident(crq),ident(raw)],exp:const:int(0)],exp:array_acc[exp:record_acc[exp:ident(crq),ident(raw)],exp:const:int(1)]]],stmt:if[exp:ident(rc1),stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(%ld sending response\n),exp:ident(rc1)],stmt:return:exp:ident(rc1)],stmt:exprstmt(none)],stmt:return:exp:ident(rc)]],define(N/H),def[fname(send_rsp),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(iue),fulltype[typec(N/H)]],param[reg(),name(sc),fulltype[typec(N/H)]],param[reg(),name(status),fulltype[ctype[btype[itype[sgn(unsigned),base(char2)]]]]],param[reg(),name(asc),fulltype[ctype[btype[itype[sgn(unsigned),base(char2)]]]]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:if[exp:binary_logi[logiop(&&),exp:call[exp:ident(test_bit),exp:ident(V_LINKED),exp:&ref:exp:record_ptr[exp:ident(iue),ident(flags)]],exp:binary_logi[logiop(==),exp:ident(status),exp:ident(NO_SENSE)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(status),exp:const:int(0x10)],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(memset),exp:ident(iu),exp:const:int(0),exp:sizeoftype:fulltype[typec(N/H)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(opcode)],exp:ident(SRP_RSP)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(req_lim_delta)],exp:const:int(1)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(tag)],exp:ident(tag)],stmt:if[exp:call[exp:ident(test_bit),exp:ident(V_DIOVER),exp:&ref:exp:record_ptr[exp:ident(iue),ident(flags)]],stmt:exprstmt:exp:assign[op_assi(|=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(flags)],exp:ident(SRP_RSP_FLAG_DIOVER)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(data_in_res_cnt)],exp:const:int(0)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(data_out_res_cnt)],exp:const:int(0)],stmt:exprstmt:exp:assign[op_assi(&=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(flags)],exp:~:exp:ident(SRP_RSP_FLAG_RSPVALID)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(resp_data_len)],exp:const:int(0)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(status)],exp:ident(status)],stmt:if[exp:ident(status),stmt:comp{}[stmt:decl(N/H),stmt:if[exp:ident(sc),stmt:comp{}[stmt:exprstmt:exp:assign[op_assi(|=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(flags)],exp:ident(SRP_RSP_FLAG_SNSVALID)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(sense_data_len)],exp:ident(SCSI_SENSE_BUFFERSIZE)],stmt:exprstmt:exp:call[exp:ident(memcpy),exp:ident(sense),exp:record_ptr[exp:ident(sc),ident(sense_buffer)],exp:ident(SCSI_SENSE_BUFFERSIZE)]],stmt:comp{}[stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(status)],exp:ident(SAM_STAT_CHECK_CONDITION)],stmt:exprstmt:exp:assign[op_assi(|=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(flags)],exp:ident(SRP_RSP_FLAG_SNSVALID)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],ident(sense_data_len)],exp:ident(SRP_RSP_SENSE_DATA_LEN)],stmt:exprstmt:exp:assign[simple_assi(=),exp:array_acc[exp:ident(sense),exp:const:int(0)],exp:binary_arith[aop(|),exp:binary_arith[aop(<<),exp:const:int(0x1),exp:const:int(7)],exp:const:int(0x70)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:array_acc[exp:ident(sense),exp:const:int(2)],exp:ident(status)],stmt:exprstmt:exp:assign[simple_assi(=),exp:array_acc[exp:ident(sense),exp:const:int(7)],exp:const:int(0xa)],stmt:exprstmt:exp:assign[simple_assi(=),exp:array_acc[exp:ident(sense),exp:const:int(12)],exp:ident(asc)]]]],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(send_iu),exp:ident(iue),exp:binary_arith[aop(+),exp:sizeof:exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(rsp)],exp:ident(SRP_RSP_SENSE_DATA_LEN)],exp:ident(VIOSRP_SRP_FORMAT)],stmt:return:exp:const:int(0)]],def[fname(handle_cmd_queue),funtype[fulltype[ctype[btype(void)]],param[reg(),name(target),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),statem(N/H),stmt:macroit:list_for_each_entry[stmt:comp{}[stmt:if[exp:!:exp:call[exp:ident(test_and_set_bit),exp:ident(V_FLYING),exp:&ref:exp:record_ptr[exp:ident(iue),ident(flags)]],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:&ref:exp:record_ptr[exp:ident(target),ident(lock)],exp:ident(flags)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(cmd),exp:record_ptr[exp:record_ptr[exp:ident(iue),ident(sbuf)],ident(buf)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(srp_cmd_queue),exp:ident(shost),exp:ident(cmd),exp:ident(iue),exp:cast[fulltype[ctype[btype[itype[sgn(unsigned),base(long)]]]],exp:ident(rport)],exp:const:int(0)]],stmt:if[exp:ident(err),stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(cannot queue cmd %p %d\n),exp:ident(cmd),exp:ident(err)],stmt:exprstmt:exp:call[exp:ident(srp_iu_put),exp:ident(iue)]],stmt:exprstmt(none)],stmt:goto(retry)],stmt:exprstmt(none)]]],stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:&ref:exp:record_ptr[exp:ident(target),ident(lock)],exp:ident(flags)]]],def[fname(ibmvstgt_rdma),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(sc),fulltype[typec(N/H)]],param[reg(),name(sg),fulltype[typec(N/H)]],param[reg(),name(nsg),fulltype[ctype[btype[itype[sgn(signed),base(int)]]]]],param[reg(),name(md),fulltype[typec(N/H)]],param[reg(),name(nmd),fulltype[ctype[btype[itype[sgn(signed),base(int)]]]]],param[reg(),name(dir),fulltype[typec(N/H)]],param[reg(),name(rest),fulltype[ctype[btype[itype[sgn(unsigned),base(int)]]]]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(sidx),exp:assign[simple_assi(=),exp:ident(soff),exp:const:int(0)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(token),exp:call[exp:ident(sg_dma_address),exp:binary_arith[aop(+),exp:ident(sg),exp:ident(sidx)]]],stmt:for[exp:assign[simple_assi(=),exp:ident(i),exp:const:int(0)],exp:binary_logi[logiop(&&),exp:binary_logi[logiop(<),exp:ident(i),exp:ident(nmd)],exp:ident(rest)],exp:postfix:++:exp:ident(i),stmt:comp{}[stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(mlen),exp:call[exp:ident(min),exp:ident(rest),exp:record_acc[exp:array_acc[exp:ident(md),exp:ident(i)],ident(len)]]],stmt:for[exp:assign[simple_assi(=),exp:ident(mdone),exp:const:int(0)],exp:ident(mlen),expr(empty),stmt:comp{}[stmt:decl(N/H),stmt:if[exp:binary_logi[logiop(==),exp:ident(dir),exp:ident(DMA_TO_DEVICE)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(h_copy_rdma),exp:ident(slen),exp:record_ptr[exp:ident(vport),ident(riobn)],exp:binary_arith[aop(+),exp:record_acc[exp:array_acc[exp:ident(md),exp:ident(i)],ident(va)],exp:ident(mdone)],exp:record_ptr[exp:ident(vport),ident(liobn)],exp:binary_arith[aop(+),exp:ident(token),exp:ident(soff)]]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(h_copy_rdma),exp:ident(slen),exp:record_ptr[exp:ident(vport),ident(liobn)],exp:binary_arith[aop(+),exp:ident(token),exp:ident(soff)],exp:record_ptr[exp:ident(vport),ident(riobn)],exp:binary_arith[aop(+),exp:record_acc[exp:array_acc[exp:ident(md),exp:ident(i)],ident(va)],exp:ident(mdone)]]]],stmt:if[exp:binary_logi[logiop(!=),exp:ident(err),exp:ident(H_SUCCESS)],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(rdma error %d %d %ld\n),exp:ident(dir),exp:ident(slen),exp:ident(err)],stmt:return:exp:-:exp:ident(EIO)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[op_assi(-=),exp:ident(mlen),exp:ident(slen)],stmt:exprstmt:exp:assign[op_assi(+=),exp:ident(mdone),exp:ident(slen)],stmt:exprstmt:exp:assign[op_assi(+=),exp:ident(soff),exp:ident(slen)],stmt:exprstmt:exp:assign[op_assi(+=),exp:ident(done),exp:ident(slen)],stmt:if[exp:binary_logi[logiop(==),exp:ident(soff),exp:call[exp:ident(sg_dma_len),exp:binary_arith[aop(+),exp:ident(sg),exp:ident(sidx)]]],stmt:comp{}[stmt:exprstmt:exp:postfix:++:exp:ident(sidx),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(soff),exp:const:int(0)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(token),exp:call[exp:ident(sg_dma_address),exp:binary_arith[aop(+),exp:ident(sg),exp:ident(sidx)]]],stmt:if[exp:binary_logi[logiop(>),exp:ident(sidx),exp:ident(nsg)],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(out of sg %p %d %d\n),exp:ident(iue),exp:ident(sidx),exp:ident(nsg)],stmt:return:exp:-:exp:ident(EIO)],stmt:exprstmt(none)]],stmt:exprstmt(none)]]],stmt:exprstmt(none),stmt:exprstmt:exp:assign[op_assi(-=),exp:ident(rest),exp:ident(mlen)]]],stmt:return:exp:const:int(0)]],def[fname(ibmvstgt_cmd_done),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(sc),fulltype[typec(N/H)]],param[reg(),name(done),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(%p %p %x %u\n),exp:ident(iue),exp:ident(target),exp:array_acc[exp:record_acc[exp:record_acc[exp:record_ptr[exp:call[exp:ident(vio_iu),exp:ident(iue)],ident(srp)],ident(cmd)],ident(cdb)],exp:const:int(0)],exp:record_ptr[exp:ident(cmd),ident(usg_sg)]],stmt:if[exp:call[exp:ident(scsi_sg_count),exp:ident(sc)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(srp_transfer_data),exp:ident(sc),exp:&ref:exp:record_acc[exp:record_ptr[exp:call[exp:ident(vio_iu),exp:ident(iue)],ident(srp)],ident(cmd)],exp:ident(ibmvstgt_rdma),exp:const:int(1),exp:const:int(1)]],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(spin_lock_irqsave),exp:&ref:exp:record_ptr[exp:ident(target),ident(lock)],exp:ident(flags)],stmt:exprstmt:exp:call[exp:ident(list_del),exp:&ref:exp:record_ptr[exp:ident(iue),ident(ilist)]],stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:&ref:exp:record_ptr[exp:ident(target),ident(lock)],exp:ident(flags)],stmt:if[exp:binary_logi[logiop(||),exp:ident(err),exp:binary_logi[logiop(!=),exp:record_ptr[exp:ident(sc),ident(result)],exp:ident(SAM_STAT_GOOD)]],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(operation failed %p %d %x\n),exp:ident(iue),exp:record_ptr[exp:ident(sc),ident(result)],exp:array_acc[exp:record_acc[exp:record_acc[exp:record_ptr[exp:call[exp:ident(vio_iu),exp:ident(iue)],ident(srp)],ident(cmd)],ident(cdb)],exp:const:int(0)]],stmt:exprstmt:exp:call[exp:ident(send_rsp),exp:ident(iue),exp:ident(sc),exp:ident(HARDWARE_ERROR),exp:const:int(0x00)]],stmt:exprstmt:exp:call[exp:ident(send_rsp),exp:ident(iue),exp:ident(sc),exp:ident(NO_SENSE),exp:const:int(0x00)]],stmt:exprstmt:exp:call[exp:ident(done),exp:ident(sc)],stmt:exprstmt:exp:call[exp:ident(srp_iu_put),exp:ident(iue)],stmt:return:exp:const:int(0)]],def[fname(send_adapter_info),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(iue),fulltype[typec(N/H)]],param[reg(),name(remote_buffer),fulltype[typec(N/H)]],param[reg(),name(length),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(info),exp:call[exp:ident(dma_alloc_coherent),exp:record_ptr[exp:ident(target),ident(dev)],exp:sizeof:exp:*ref:exp:ident(info),exp:&ref:exp:ident(data_token),exp:ident(GFP_KERNEL)]],stmt:if[exp:!:exp:ident(info),stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(bad dma_alloc_coherent %p\n),exp:ident(target)],stmt:return:exp:const:int(1)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(h_copy_rdma),exp:sizeof:exp:*ref:exp:ident(info),exp:record_ptr[exp:ident(vport),ident(riobn)],exp:ident(remote_buffer),exp:record_ptr[exp:ident(vport),ident(liobn)],exp:ident(data_token)]],stmt:if[exp:binary_logi[logiop(==),exp:ident(err),exp:ident(H_SUCCESS)],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(Client connect: %s (%d)\n),exp:record_ptr[exp:ident(info),ident(partition_name)],exp:record_ptr[exp:ident(info),ident(partition_number)]]],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(memset),exp:ident(info),exp:const:int(0),exp:sizeof:exp:*ref:exp:ident(info)],stmt:exprstmt:exp:call[exp:ident(strcpy),exp:record_ptr[exp:ident(info),ident(srp_version)],exp:const:string(16.a)],stmt:exprstmt:exp:call[exp:ident(strncpy),exp:record_ptr[exp:ident(info),ident(partition_name)],exp:ident(partition_name),exp:sizeof:exp:record_ptr[exp:ident(info),ident(partition_name)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(info),ident(partition_number)],exp:ident(partition_number)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(info),ident(mad_version)],exp:const:int(1)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(info),ident(os_type)],exp:const:int(2)],stmt:exprstmt:exp:assign[simple_assi(=),exp:array_acc[exp:record_ptr[exp:ident(info),ident(port_max_txu)],exp:const:int(0)],exp:binary_arith[aop(<<),exp:record_ptr[exp:record_ptr[exp:ident(shost),ident(hostt)],ident(max_sectors)],exp:const:int(9)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(h_copy_rdma),exp:sizeof:exp:*ref:exp:ident(info),exp:record_ptr[exp:ident(vport),ident(liobn)],exp:ident(data_token),exp:record_ptr[exp:ident(vport),ident(riobn)],exp:ident(remote_buffer)]],stmt:exprstmt:exp:call[exp:ident(dma_free_coherent),exp:record_ptr[exp:ident(target),ident(dev)],exp:sizeof:exp:*ref:exp:ident(info),exp:ident(info),exp:ident(data_token)],stmt:if[exp:binary_logi[logiop(!=),exp:ident(err),exp:ident(H_SUCCESS)],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(Error sending adapter info %d\n),exp:ident(err)],stmt:return:exp:const:int(1)],stmt:exprstmt(none)],stmt:return:exp:const:int(0)]],def[fname(process_login),funtype[fulltype[ctype[btype(void)]],param[reg(),name(iue),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(memset),exp:&ref:exp:ident(ids),exp:const:int(0),exp:sizeof:exp:ident(ids)],stmt:exprstmt:exp:call[exp:ident(sprintf),exp:record_acc[exp:ident(ids),ident(port_id)],exp:const:string(%x),exp:record_ptr[exp:record_ptr[exp:ident(vport),ident(dma_dev)],ident(unit_address)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:ident(ids),ident(roles)],exp:ident(SRP_RPORT_ROLE_INITIATOR)],stmt:if[exp:!:exp:record_ptr[exp:ident(vport),ident(rport)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(vport),ident(rport)],exp:call[exp:ident(srp_rport_add),exp:ident(shost),exp:&ref:exp:ident(ids)]],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(memset),exp:ident(iu),exp:const:int(0),exp:sizeoftype:fulltype[typec(N/H)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(rsp),ident(opcode)],exp:ident(SRP_LOGIN_RSP)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(rsp),ident(req_lim_delta)],exp:ident(INITIAL_SRP_LIMIT)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(rsp),ident(tag)],exp:ident(tag)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(rsp),ident(max_it_iu_len)],exp:sizeoftype:fulltype[typec(N/H)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(rsp),ident(max_ti_iu_len)],exp:sizeoftype:fulltype[typec(N/H)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(rsp),ident(buf_fmt)],exp:binary_arith[aop(|),exp:ident(SRP_BUF_FORMAT_DIRECT),exp:ident(SRP_BUF_FORMAT_INDIRECT)]],stmt:exprstmt:exp:call[exp:ident(send_iu),exp:ident(iue),exp:sizeof:exp:*ref:exp:ident(rsp),exp:ident(VIOSRP_SRP_FORMAT)]]],def[fname(queue_cmd),funtype[fulltype[ctype[btype(void)]],param[reg(),name(iue),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(spin_lock_irqsave),exp:&ref:exp:record_ptr[exp:ident(target),ident(lock)],exp:ident(flags)],stmt:exprstmt:exp:call[exp:ident(list_add_tail),exp:&ref:exp:record_ptr[exp:ident(iue),ident(ilist)],exp:&ref:exp:record_ptr[exp:ident(target),ident(cmd_queue)]],stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:&ref:exp:record_ptr[exp:ident(target),ident(lock)],exp:ident(flags)]]],def[fname(process_tsk_mgmt),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(iue),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(%p %u\n),exp:ident(iue),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(tsk_mgmt)],ident(tsk_mgmt_func)]],stmt:switch[exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(tsk_mgmt)],ident(tsk_mgmt_func)],stmt:comp{}[statem(N/H),stmt:jump(break),statem(N/H),stmt:jump(break),statem(N/H),stmt:jump(break),statem(N/H),stmt:jump(break),statem(N/H),stmt:jump(break),statem(N/H)]],stmt:if[exp:ident(fn),stmt:exprstmt:exp:call[exp:ident(scsi_tgt_tsk_mgmt_request),exp:record_ptr[exp:record_ptr[exp:ident(iue),ident(target)],ident(shost)],exp:cast[fulltype[ctype[btype[itype[sgn(unsigned),base(long)]]]],exp:record_ptr[exp:record_ptr[exp:ident(iue),ident(target)],ident(shost)]],exp:ident(fn),exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(tsk_mgmt)],ident(task_tag)],exp:cast[fulltype[typec(N/H)],exp:&ref:exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(tsk_mgmt)],ident(lun)]],exp:ident(iue)],stmt:exprstmt:exp:call[exp:ident(send_rsp),exp:ident(iue),exp:ident(NULL),exp:ident(ILLEGAL_REQUEST),exp:const:int(0x20)]],stmt:return:exp:!:exp:ident(fn)]],def[fname(process_mad_iu),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(iue),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:switch[exp:record_acc[exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(mad)],ident(empty_iu)],ident(common)],ident(type)],stmt:comp{}[statem(N/H),stmt:jump(break),statem(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(mad)],ident(error_log)],ident(common)],ident(status)],exp:const:int(1)],stmt:exprstmt:exp:call[exp:ident(send_iu),exp:ident(iue),exp:sizeof:exp:record_acc[exp:record_ptr[exp:ident(iu),ident(mad)],ident(error_log)],exp:ident(VIOSRP_MAD_FORMAT)],stmt:jump(break),statem(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_ptr[exp:ident(info),ident(common)],ident(status)],exp:call[exp:ident(send_adapter_info),exp:ident(iue),exp:record_ptr[exp:ident(info),ident(buffer)],exp:record_acc[exp:record_ptr[exp:ident(info),ident(common)],ident(length)]]],stmt:exprstmt:exp:call[exp:ident(send_iu),exp:ident(iue),exp:sizeof:exp:*ref:exp:ident(info),exp:ident(VIOSRP_MAD_FORMAT)],stmt:jump(break),statem(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:record_acc[exp:record_ptr[exp:ident(conf),ident(common)],ident(status)],exp:const:int(1)],stmt:exprstmt:exp:call[exp:ident(send_iu),exp:ident(iue),exp:sizeof:exp:*ref:exp:ident(conf),exp:ident(VIOSRP_MAD_FORMAT)],stmt:jump(break),statem(N/H)]],stmt:return:exp:const:int(1)]],def[fname(process_srp_iu),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(iue),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:switch[exp:ident(opcode),stmt:comp{}[statem(N/H),stmt:jump(break),statem(N/H),stmt:jump(break),statem(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(done),exp:const:int(0)],stmt:jump(break),statem(N/H),stmt:jump(break),statem(N/H)]],stmt:return:exp:ident(done)]],def[fname(process_iu),funtype[fulltype[ctype[btype(void)]],param[reg(),name(crq),fulltype[typec(N/H)]],param[reg(),name(target),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(iue),exp:call[exp:ident(srp_iu_get),exp:ident(target)]],stmt:if[exp:!:exp:ident(iue),stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(Error getting IU from pool, %p\n),exp:ident(target)],stmt:jump(return)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(iue),ident(remote_token)],exp:record_ptr[exp:ident(crq),ident(IU_data_ptr)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(h_copy_rdma),exp:record_ptr[exp:ident(crq),ident(IU_length)],exp:record_ptr[exp:ident(vport),ident(riobn)],exp:record_ptr[exp:ident(iue),ident(remote_token)],exp:record_ptr[exp:ident(vport),ident(liobn)],exp:record_ptr[exp:record_ptr[exp:ident(iue),ident(sbuf)],ident(dma)]]],stmt:if[exp:binary_logi[logiop(!=),exp:ident(err),exp:ident(H_SUCCESS)],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(%ld transferring data error %p\n),exp:ident(err),exp:ident(iue)],stmt:goto(out)],stmt:exprstmt(none)],stmt:if[exp:binary_logi[logiop(==),exp:record_ptr[exp:ident(crq),ident(format)],exp:ident(VIOSRP_MAD_FORMAT)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(done),exp:call[exp:ident(process_mad_iu),exp:ident(iue)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(done),exp:call[exp:ident(process_srp_iu),exp:ident(iue)]]],statem(N/H)]],def[fname(ibmvstgt_interrupt),funtype[fulltype[typec(N/H)],param[reg(),name(irq),fulltype[ctype[btype[itype[sgn(signed),base(int)]]]]],param[reg(),name(data),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(vio_disable_interrupts),exp:record_ptr[exp:ident(vport),ident(dma_dev)]],stmt:exprstmt:exp:call[exp:ident(queue_work),exp:ident(vtgtd),exp:&ref:exp:record_ptr[exp:ident(vport),ident(crq_work)]],stmt:return:exp:ident(IRQ_HANDLED)]],def[fname(crq_queue_create),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(queue),fulltype[typec(N/H)]],param[reg(),name(target),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(queue),ident(msgs)],exp:cast[fulltype[typec(N/H)],exp:call[exp:ident(get_zeroed_page),exp:ident(GFP_KERNEL)]]],stmt:if[exp:!:exp:record_ptr[exp:ident(queue),ident(msgs)],stmt:goto(malloc_failed),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(queue),ident(size)],exp:binary_arith[aop(/),exp:ident(PAGE_SIZE),exp:sizeof:exp:*ref:exp:record_ptr[exp:ident(queue),ident(msgs)]]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(queue),ident(msg_token)],exp:call[exp:ident(dma_map_single),exp:record_ptr[exp:ident(target),ident(dev)],exp:record_ptr[exp:ident(queue),ident(msgs)],exp:binary_arith[aop(*),exp:record_ptr[exp:ident(queue),ident(size)],exp:sizeof:exp:*ref:exp:record_ptr[exp:ident(queue),ident(msgs)]],exp:ident(DMA_BIDIRECTIONAL)]],stmt:if[exp:call[exp:ident(dma_mapping_error),exp:record_ptr[exp:ident(queue),ident(msg_token)]],stmt:goto(map_failed),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(h_reg_crq),exp:record_ptr[exp:record_ptr[exp:ident(vport),ident(dma_dev)],ident(unit_address)],exp:record_ptr[exp:ident(queue),ident(msg_token)],exp:ident(PAGE_SIZE)]],stmt:if[exp:binary_logi[logiop(==),exp:ident(err),exp:ident(H_RESOURCE)],stmt:comp{}[stmt:dowhile[stmt:comp{}[stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(h_free_crq),exp:record_ptr[exp:record_ptr[exp:ident(vport),ident(dma_dev)],ident(unit_address)]]]],exp:binary_logi[logiop(||),exp:binary_logi[logiop(==),exp:ident(err),exp:ident(H_BUSY)],exp:call[exp:ident(H_IS_LONG_BUSY),exp:ident(err)]]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(h_reg_crq),exp:record_ptr[exp:record_ptr[exp:ident(vport),ident(dma_dev)],ident(unit_address)],exp:record_ptr[exp:ident(queue),ident(msg_token)],exp:ident(PAGE_SIZE)]]],stmt:exprstmt(none)],stmt:if[exp:binary_logi[logiop(&&),exp:binary_logi[logiop(!=),exp:ident(err),exp:ident(H_SUCCESS)],exp:binary_logi[logiop(!=),exp:ident(err),exp:const:int(2)]],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(Error 0x%x opening virtual adapter\n),exp:ident(err)],stmt:goto(reg_crq_failed)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(request_irq),exp:record_ptr[exp:record_ptr[exp:ident(vport),ident(dma_dev)],ident(irq)],exp:&ref:exp:ident(ibmvstgt_interrupt),exp:ident(IRQF_DISABLED),exp:const:string(ibmvstgt),exp:ident(target)]],stmt:if[exp:ident(err),stmt:goto(req_irq_failed),stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(vio_enable_interrupts),exp:record_ptr[exp:ident(vport),ident(dma_dev)]],stmt:exprstmt:exp:call[exp:ident(h_send_crq),exp:record_ptr[exp:record_ptr[exp:ident(vport),ident(dma_dev)],ident(unit_address)],exp:const:int(0xC001000000000000),exp:const:int(0)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(queue),ident(cur)],exp:const:int(0)],stmt:exprstmt:exp:call[exp:ident(spin_lock_init),exp:&ref:exp:record_ptr[exp:ident(queue),ident(lock)]],stmt:return:exp:const:int(0),statem(N/H),statem(N/H),statem(N/H),statem(N/H)]],def[fname(crq_queue_destroy),funtype[fulltype[ctype[btype(void)]],param[reg(),name(target),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(free_irq),exp:record_ptr[exp:record_ptr[exp:ident(vport),ident(dma_dev)],ident(irq)],exp:ident(target)],stmt:dowhile[stmt:comp{}[stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(h_free_crq),exp:record_ptr[exp:record_ptr[exp:ident(vport),ident(dma_dev)],ident(unit_address)]]]],exp:binary_logi[logiop(||),exp:binary_logi[logiop(==),exp:ident(err),exp:ident(H_BUSY)],exp:call[exp:ident(H_IS_LONG_BUSY),exp:ident(err)]]],stmt:exprstmt:exp:call[exp:ident(dma_unmap_single),exp:record_ptr[exp:ident(target),ident(dev)],exp:record_ptr[exp:ident(queue),ident(msg_token)],exp:binary_arith[aop(*),exp:record_ptr[exp:ident(queue),ident(size)],exp:sizeof:exp:*ref:exp:record_ptr[exp:ident(queue),ident(msgs)]],exp:ident(DMA_BIDIRECTIONAL)],stmt:exprstmt:exp:call[exp:ident(free_page),exp:cast[fulltype[ctype[btype[itype[sgn(unsigned),base(long)]]]],exp:record_ptr[exp:ident(queue),ident(msgs)]]]]],def[fname(process_crq),funtype[fulltype[ctype[btype(void)]],param[reg(),name(crq),fulltype[typec(N/H)]],param[reg(),name(target),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(%x %x\n),exp:record_ptr[exp:ident(crq),ident(valid)],exp:record_ptr[exp:ident(crq),ident(format)]],stmt:switch[exp:record_ptr[exp:ident(crq),ident(valid)],stmt:comp{}[statem(N/H),stmt:jump(break),statem(N/H),statem(N/H),stmt:jump(break),statem(N/H)]]]],def[fname(next_crq),funtype[fulltype[typec(N/H)],param[reg(),name(queue),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(spin_lock_irqsave),exp:&ref:exp:record_ptr[exp:ident(queue),ident(lock)],exp:ident(flags)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(crq),exp:&ref:exp:array_acc[exp:record_ptr[exp:ident(queue),ident(msgs)],exp:record_ptr[exp:ident(queue),ident(cur)]]],stmt:if[exp:binary_arith[aop(&),exp:record_ptr[exp:ident(crq),ident(valid)],exp:const:int(0x80)],stmt:comp{}[stmt:if[exp:binary_logi[logiop(==),exp:infix:++:exp:record_ptr[exp:ident(queue),ident(cur)],exp:record_ptr[exp:ident(queue),ident(size)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(queue),ident(cur)],exp:const:int(0)],stmt:exprstmt(none)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(crq),exp:ident(NULL)]],stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:&ref:exp:record_ptr[exp:ident(queue),ident(lock)],exp:ident(flags)],stmt:return:exp:ident(crq)]],def[fname(handle_crq),funtype[fulltype[ctype[btype(void)]],param[reg(),name(work),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:while[exp:!:exp:ident(done),stmt:comp{}[stmt:while[exp:binary_logi[logiop(!=),exp:assign[simple_assi(=),exp:ident(crq),exp:call[exp:ident(next_crq),exp:&ref:exp:record_ptr[exp:ident(vport),ident(crq_queue)]]],exp:ident(NULL)],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(process_crq),exp:ident(crq),exp:ident(target)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(crq),ident(valid)],exp:const:int(0x00)]]],stmt:exprstmt:exp:call[exp:ident(vio_enable_interrupts),exp:record_ptr[exp:ident(vport),ident(dma_dev)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(crq),exp:call[exp:ident(next_crq),exp:&ref:exp:record_ptr[exp:ident(vport),ident(crq_queue)]]],stmt:if[exp:ident(crq),stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(vio_disable_interrupts),exp:record_ptr[exp:ident(vport),ident(dma_dev)]],stmt:exprstmt:exp:call[exp:ident(process_crq),exp:ident(crq),exp:ident(target)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(crq),ident(valid)],exp:const:int(0x00)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(done),exp:const:int(1)]]]],stmt:exprstmt:exp:call[exp:ident(handle_cmd_queue),exp:ident(target)]]],def[fname(ibmvstgt_eh_abort_handler),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(sc),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(dprintk),exp:const:string(%p %p %x\n),exp:ident(iue),exp:ident(target),exp:array_acc[exp:record_acc[exp:record_acc[exp:record_ptr[exp:call[exp:ident(vio_iu),exp:ident(iue)],ident(srp)],ident(cmd)],ident(cdb)],exp:const:int(0)]],stmt:exprstmt:exp:call[exp:ident(spin_lock_irqsave),exp:&ref:exp:record_ptr[exp:ident(target),ident(lock)],exp:ident(flags)],stmt:exprstmt:exp:call[exp:ident(list_del),exp:&ref:exp:record_ptr[exp:ident(iue),ident(ilist)]],stmt:exprstmt:exp:call[exp:ident(spin_unlock_irqrestore),exp:&ref:exp:record_ptr[exp:ident(target),ident(lock)],exp:ident(flags)],stmt:exprstmt:exp:call[exp:ident(srp_iu_put),exp:ident(iue)],stmt:return:exp:const:int(0)]],def[fname(ibmvstgt_tsk_mgmt_response),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(shost),fulltype[typec(N/H)]],param[reg(),name(itn_id),fulltype[typec(N/H)]],param[reg(),name(mid),fulltype[typec(N/H)]],param[reg(),name(result),fulltype[ctype[btype[itype[sgn(signed),base(int)]]]]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(%p %d\n),exp:ident(iue),exp:ident(result)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(status),exp:ident(NO_SENSE)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(asc),exp:const:int(0)],stmt:switch[exp:record_acc[exp:record_acc[exp:record_ptr[exp:ident(iu),ident(srp)],ident(tsk_mgmt)],ident(tsk_mgmt_func)],stmt:comp{}[statem(N/H),stmt:if[exp:ident(result),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(status),exp:ident(ABORTED_COMMAND)],stmt:exprstmt(none)],stmt:jump(break),statem(N/H)]],stmt:exprstmt:exp:call[exp:ident(send_rsp),exp:ident(iue),exp:ident(NULL),exp:ident(status),exp:ident(asc)],stmt:exprstmt:exp:call[exp:ident(srp_iu_put),exp:ident(iue)],stmt:return:exp:const:int(0)]],def[fname(ibmvstgt_it_nexus_response),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(shost),fulltype[typec(N/H)]],param[reg(),name(itn_id),fulltype[typec(N/H)]],param[reg(),name(result),fulltype[ctype[btype[itype[sgn(signed),base(int)]]]]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:if[exp:ident(result),stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(%p %d\n),exp:ident(shost),exp:ident(result)],stmt:exprstmt:exp:call[exp:ident(srp_rport_del),exp:record_ptr[exp:ident(vport),ident(rport)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(vport),ident(rport)],exp:ident(NULL)]],stmt:exprstmt(none)],stmt:return:exp:const:int(0)]],def[fname(system_id_show),funtype[fulltype[typec(N/H)],param[reg(),name(cdev),fulltype[typec(N/H)]],param[reg(),name(buf),fulltype[typec(N/H)]]],stmt:comp{}[stmt:return:exp:call[exp:ident(snprintf),exp:ident(buf),exp:ident(PAGE_SIZE),exp:const:string(%s\n),exp:ident(system_id)]]],def[fname(partition_number_show),funtype[fulltype[typec(N/H)],param[reg(),name(cdev),fulltype[typec(N/H)]],param[reg(),name(buf),fulltype[typec(N/H)]]],stmt:comp{}[stmt:return:exp:call[exp:ident(snprintf),exp:ident(buf),exp:ident(PAGE_SIZE),exp:const:string(%x\n),exp:ident(partition_number)]]],def[fname(unit_address_show),funtype[fulltype[typec(N/H)],param[reg(),name(cdev),fulltype[typec(N/H)]],param[reg(),name(buf),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:return:exp:call[exp:ident(snprintf),exp:ident(buf),exp:ident(PAGE_SIZE),exp:const:string(%x\n),exp:record_ptr[exp:record_ptr[exp:ident(vport),ident(dma_dev)],ident(unit_address)]]]],decl(N/H),decl(N/H),decl(N/H),decl(N/H),decl(N/H),def[fname(ibmvstgt_probe),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(dev),fulltype[typec(N/H)]],param[reg(),name(id),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(vport),exp:call[exp:ident(kzalloc),exp:sizeoftype:fulltype[typec(N/H)],exp:ident(GFP_KERNEL)]],stmt:if[exp:!:exp:ident(vport),stmt:return:exp:ident(err),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(shost),exp:call[exp:ident(scsi_host_alloc),exp:&ref:exp:ident(ibmvstgt_sht),exp:sizeoftype:fulltype[typec(N/H)]]],stmt:if[exp:!:exp:ident(shost),stmt:goto(free_vport),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(shost),ident(transportt)],exp:ident(ibmvstgt_transport_template)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(scsi_tgt_alloc_queue),exp:ident(shost)]],stmt:if[exp:ident(err),stmt:goto(put_host),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(target),exp:call[exp:ident(host_to_srp_target),exp:ident(shost)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(target),ident(shost)],exp:ident(shost)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(vport),ident(dma_dev)],exp:ident(dev)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(target),ident(ldata)],exp:ident(vport)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(vport),ident(target)],exp:ident(target)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(srp_target_alloc),exp:ident(target),exp:&ref:exp:record_ptr[exp:ident(dev),ident(dev)],exp:ident(INITIAL_SRP_LIMIT),exp:ident(SRP_MAX_IU_LEN)]],stmt:if[exp:ident(err),stmt:goto(put_host),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(dma),exp:cast[fulltype[typec(N/H)],exp:call[exp:ident(vio_get_attribute),exp:ident(dev),exp:const:string(ibm,my-dma-window),exp:&ref:exp:ident(dma_size)]]],stmt:if[exp:binary_logi[logiop(||),exp:!:exp:ident(dma),exp:binary_logi[logiop(!=),exp:ident(dma_size),exp:const:int(40)]],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(eprintk),exp:const:string(Couldn't get window property %d\n),exp:ident(dma_size)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:-:exp:ident(EIO)],stmt:goto(free_srp_target)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(vport),ident(liobn)],exp:array_acc[exp:ident(dma),exp:const:int(0)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:record_ptr[exp:ident(vport),ident(riobn)],exp:array_acc[exp:ident(dma),exp:const:int(5)]],stmt:exprstmt:exp:call[exp:ident(INIT_WORK),exp:&ref:exp:record_ptr[exp:ident(vport),ident(crq_work)],exp:ident(handle_crq)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(crq_queue_create),exp:&ref:exp:record_ptr[exp:ident(vport),ident(crq_queue)],exp:ident(target)]],stmt:if[exp:ident(err),stmt:goto(free_srp_target),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(scsi_add_host),exp:ident(shost),exp:record_ptr[exp:ident(target),ident(dev)]]],stmt:if[exp:ident(err),stmt:goto(destroy_queue),stmt:exprstmt(none)],stmt:return:exp:const:int(0),statem(N/H),statem(N/H),statem(N/H),statem(N/H),stmt:return:exp:ident(err)]],def[fname(ibmvstgt_remove),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(dev),fulltype[typec(N/H)]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(crq_queue_destroy),exp:ident(target)],stmt:exprstmt:exp:call[exp:ident(srp_remove_host),exp:ident(shost)],stmt:exprstmt:exp:call[exp:ident(scsi_remove_host),exp:ident(shost)],stmt:exprstmt:exp:call[exp:ident(scsi_tgt_free_queue),exp:ident(shost)],stmt:exprstmt:exp:call[exp:ident(srp_target_free),exp:ident(target)],stmt:exprstmt:exp:call[exp:ident(kfree),exp:ident(vport)],stmt:exprstmt:exp:call[exp:ident(scsi_host_put),exp:ident(shost)],stmt:return:exp:const:int(0)]],NCP(N/H),mtop(N/H),decl(N/H),def[fname(get_system_info),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(),fulltype[ctype[btype(void)]]]],stmt:comp{}[stmt:decl(N/H),stmt:decl(N/H),stmt:decl(N/H),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(rootdn),exp:call[exp:ident(of_find_node_by_path),exp:const:string(/)]],stmt:if[exp:!:exp:ident(rootdn),stmt:return:exp:-:exp:ident(ENOENT),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(model),exp:call[exp:ident(of_get_property),exp:ident(rootdn),exp:const:string(model),exp:ident(NULL)]],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(id),exp:call[exp:ident(of_get_property),exp:ident(rootdn),exp:const:string(system-id),exp:ident(NULL)]],stmt:if[exp:binary_logi[logiop(&&),exp:ident(model),exp:ident(id)],stmt:exprstmt:exp:call[exp:ident(snprintf),exp:ident(system_id),exp:sizeof:exp:ident(system_id),exp:const:string(%s-%s),exp:ident(model),exp:ident(id)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(name),exp:call[exp:ident(of_get_property),exp:ident(rootdn),exp:const:string(ibm,partition-name),exp:ident(NULL)]],stmt:if[exp:ident(name),stmt:exprstmt:exp:call[exp:ident(strncpy),exp:ident(partition_name),exp:ident(name),exp:sizeof:exp:ident(partition_name)],stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(num),exp:call[exp:ident(of_get_property),exp:ident(rootdn),exp:const:string(ibm,partition-no),exp:ident(NULL)]],stmt:if[exp:ident(num),stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(partition_number),exp:*ref:exp:ident(num)],stmt:exprstmt(none)],stmt:exprstmt:exp:call[exp:ident(of_node_put),exp:ident(rootdn)],stmt:return:exp:const:int(0)]],decl(N/H),def[fname(ibmvstgt_init),funtype[fulltype[ctype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(),fulltype[ctype[btype(void)]]]],stmt:comp{}[stmt:decl(N/H),stmt:exprstmt:exp:call[exp:ident(printk),exp:const:string(IBM eServer i/pSeries Virtual SCSI Target Driver\n)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(ibmvstgt_transport_template),exp:call[exp:ident(srp_attach_transport),exp:&ref:exp:ident(ibmvstgt_transport_functions)]],stmt:if[exp:!:exp:ident(ibmvstgt_transport_template),stmt:return:exp:ident(err),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(vtgtd),exp:call[exp:ident(create_workqueue),exp:const:string(ibmvtgtd)]],stmt:if[exp:!:exp:ident(vtgtd),stmt:goto(release_transport),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(get_system_info)]],stmt:if[exp:ident(err),stmt:goto(destroy_wq),stmt:exprstmt(none)],stmt:exprstmt:exp:assign[simple_assi(=),exp:ident(err),exp:call[exp:ident(vio_register_driver),exp:&ref:exp:ident(ibmvstgt_driver)]],stmt:if[exp:ident(err),stmt:goto(destroy_wq),stmt:exprstmt(none)],stmt:return:exp:const:int(0),statem(N/H),statem(N/H),stmt:return:exp:ident(err)]],def[fname(ibmvstgt_exit),funtype[fulltype[ctype[btype(void)]],param[reg(),name(),fulltype[ctype[btype(void)]]]],stmt:comp{}[stmt:exprstmt:exp:call[exp:ident(printk),exp:const:string(Unregister IBM virtual SCSI driver\n)],stmt:exprstmt:exp:call[exp:ident(destroy_workqueue),exp:ident(vtgtd)],stmt:exprstmt:exp:call[exp:ident(vio_unregister_driver),exp:&ref:exp:ident(ibmvstgt_driver)],stmt:exprstmt:exp:call[exp:ident(srp_release_transport),exp:ident(ibmvstgt_transport_template)]]],mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H)]

  
}}}
Raw list of simple updates
{{{
}}}
[Main] generating solutions...
[Main] no solutions?
